/*! For license information please see main.76e83a5e.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},753:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,a=new Promise((function(a,o){n(i=e[t].apply(e,r)).then(a,o)}));return a.request=i,a}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new c(e,i.request)}))}function a(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function o(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function l(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),a=i.request;return a&&(a.onupgradeneeded=function(e){n&&n(new d(a.result,e.oldVersion,a.transaction))}),i.then((function(e){return new p(e)}))}function y(e){return r(indexedDB,"deleteDatabase",[e])}a(l,"_index",["name","keyPath","multiEntry","unique"]),o(l,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),s(l,"_index",IDBIndex,["openCursor","openKeyCursor"]),a(c,"_cursor",["direction","key","primaryKey","value"]),o(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(c.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new c(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new l(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new l(this._store.index.apply(this._store,arguments))},a(f,"_store",["name","keyPath","indexNames","autoIncrement"]),o(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),s(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),u(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},a(h,"_tx",["objectStoreNames","mode"]),u(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},a(d,"_db",["name","version","objectStoreNames"]),u(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},a(p,"_db",["name","version","objectStoreNames"]),u(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,l].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,a=i[e].apply(i,n.slice(0,-1));a.onsuccess=function(){r(a.result)}})}))})),[l,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=y,Object.defineProperty(e,"__esModule",{value:!0})}(t)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(s[c]=o[c]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,k);g[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,k);g[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,k);g[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,S=60106,x=60107,T=60108,_=60114,C=60109,I=60110,N=60112,A=60113,D=60120,P=60115,O=60116,L=60121,R=60128,M=60129,F=60130,V=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),S=U("react.portal"),x=U("react.fragment"),T=U("react.strict_mode"),_=U("react.profiler"),C=U("react.provider"),I=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),D=U("react.suspense_list"),P=U("react.memo"),O=U("react.lazy"),L=U("react.block"),U("react.scope"),R=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),V=U("react.legacy_hidden")}var j,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var K=!1;function H(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function G(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case S:return"Portal";case _:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return W(e.type);case L:return W(e._render);case O:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function le(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,ge=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Ie=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ce(e.stateNode,e.type,t))}}function De(e){Ie?Ne?Ne.push(e):Ne=[e]:Ie=e}function Pe(){if(Ie){var e=Ie,t=Ne;if(Ne=Ie=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Oe(e,t){return e(t)}function Le(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var Me=Oe,Fe=!1,Ve=!1;function Ue(){null===Ie&&null===Ne||(Re(),Pe())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ye){ze=!1}function qe(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Ke=!1,He=null,Ge=!1,We=null,Qe={onError:function(e){Ke=!0,He=e}};function $e(e,t,n,r,i,a,o,u,s){Ke=!1,He=null,qe.apply(Qe,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Xe(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,lt=null,ct=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){mt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&mt(ut)&&(ut=null),null!==st&&mt(st)&&(st=null),null!==lt&&mt(lt)&&(lt=null),ct.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function Et(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==lt&&wt(lt,e),ct.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Tt={},_t={};function Ct(e){if(Tt[e])return Tt[e];if(!xt[e])return e;var t,n=xt[e];for(t in n)if(n.hasOwnProperty(t)&&t in _t)return Tt[e]=n[t];return e}f&&(_t=document.createElement("div").style,"AnimationEvent"in window||(delete xt.animationend.animation,delete xt.animationiteration.animation,delete xt.animationstart.animation),"TransitionEvent"in window||delete xt.transitionend.transition);var It=Ct("animationend"),Nt=Ct("animationiteration"),At=Ct("animationstart"),Dt=Ct("transitionend"),Pt=new Map,Ot=new Map,Lt=["abort","abort",It,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Dt,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),l(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Vt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?jt(10,t):e;case 10:return 0===(e=zt(192&~t))?jt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Gt|0)|0},Ht=Math.log,Gt=Math.LN2;var Wt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Xt(e,t,n,r){Fe||Re();var i=Jt,a=Fe;Fe=!0;try{Le(i,e,t,n,r)}finally{(Fe=a)||Ue()}}function Yt(e,t,n,r){Qt(Wt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return lt=yt(lt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,yt(ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Rr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=_e(r);if(null!==(i=ni(i))){var a=Xe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ye(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Rr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,cn,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(ln=e.screenX-fn.screenX,cn=e.screenY-fn.screenY):cn=ln=0,fn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=sn(yn),mn=sn(i({},yn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=sn(wn),Sn=sn(i({},hn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return Cn}var Nn=i({},pn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(Nn),Dn=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),On=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Ln),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Vn=null;f&&"documentMode"in document&&(Vn=document.documentMode);var Un=f&&"TextEvent"in window&&!Vn,jn=f&&(!Fn||Vn&&8<Vn&&11>=Vn),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Qn(e,t,n,r){De(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Xn=null;function Yn(e){Nr(e,0)}function Jn(e){if(Y(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",ar),Xn=$n=null)}function ar(e){if("value"===e.propertyName&&Jn(Xn)){var t=[];if(Qn(t,Xn,e,_e(e)),e=Yn,Fe)e(t);else{Fe=!0;try{Oe(e,t)}finally{Fe=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Xn=n,($n=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Xn)}function sr(e,t){if("click"===e)return Jn(t)}function lr(e,t){if("input"===e||"change"===e)return Jn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,Er=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Lt,2);for(var xr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<xr.length;Tr++)Ot.set(xr[Tr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,l){if($e.apply(this,arguments),Ke){if(!Ke)throw Error(o(198));var c=He;Ke=!1,He=null,Ge||(Ge=!0,We=c)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Ir(i,u,l),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Ir(i,u,l),a=s}}}if(Ge)throw e=We,Ge=!1,We=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Lr(t,e,2,!1),n.add(r))}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Dr]||(e[Dr]=!0,u.forEach((function(t){Cr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Lr(a,e,i,t),o.add(u))}function Lr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ve)return e(t,n);Ve=!0;try{Me(e,t,n)}finally{Ve=!1,Ue()}}((function(){var r=a,i=_e(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,l=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":l="focus",s=kn;break;case"focusout":l="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case It:case Nt:case At:s=bn;break;case Dt:s=On;break;case"scroll":s=vn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Dn}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==u?u+"Capture":null:u;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=je(p,h))&&c.push(Mr(p,v,d)))),f)break;p=p.return}0<c.length&&(u=new s(u,l,null,n,i),o.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!ni(l)&&!l[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?ni(l):null)&&(l!==(f=Xe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=gn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Dn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==l?u:ii(l),(u=new c(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,s&&l)e:{for(h=l,p=0,d=c=s;d;d=Vr(d))p++;for(d=0,v=h;v;v=Vr(v))d++;for(;0<p-d;)c=Vr(c),p--;for(;0<d-p;)h=Vr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Vr(c),h=Vr(h)}c=null}else c=null;null!==s&&Ur(o,u,s,c,!1),null!==l&&null!==f&&Ur(o,f,l,c,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Zn;else if(Wn(u))if(er)y=lr;else{y=ur;var g=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=sr);switch(y&&(y=y(e,r))?Qn(o,y,n,i):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&ie(u,"number",u.value)),g=r?ii(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(kr=g,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,Sr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Sr(o,n,i)}var m;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(m=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(g=Fr(r,k)).length&&(k=new Sn(k,e,null,n,i),o.push({event:k,listeners:g}),m?k.data=m:null!==(m=Kn(n))&&(k.data=m))),(m=Un?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=m))}Nr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=je(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=je(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=je(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=je(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function jr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Gr="function"===typeof clearTimeout?clearTimeout:void 0;function Wr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Yr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Yr,Zr="__reactProps$"+Yr,ei="__reactContainer$"+Yr,ti="__reactEvents$"+Yr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function li(e){return{current:e}}function ci(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=li(hi),pi=li(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){ci(pi),ci(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,W(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,ci(pi),ci(di),fi(di,e)):ci(pi),fi(pi,n)}var Si=null,xi=null,Ti=a.unstable_runWithPriority,_i=a.unstable_scheduleCallback,Ci=a.unstable_cancelCallback,Ii=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Di=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Li=a.unstable_NormalPriority,Ri=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Vi=void 0!==Ni?Ni:function(){},Ui=null,ji=null,zi=!1,Bi=Ai(),qi=1e4>Bi?Ai:function(){return Ai()-Bi};function Ki(){switch(Di()){case Pi:return 99;case Oi:return 98;case Li:return 97;case Ri:return 96;case Mi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Li;case 96:return Ri;case 95:return Mi;default:throw Error(o(332))}}function Gi(e,t){return e=Hi(e),Ti(e,t)}function Wi(e,t,n){return e=Hi(e),_i(e,t,n)}function Qi(){if(null!==ji){var e=ji;ji=null,Ci(e)}$i()}function $i(){if(!zi&&null!==Ui){zi=!0;var e=0;try{var t=Ui;Gi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),_i(Pi,Qi),n}finally{zi=!1}}}var Xi=w.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=li(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;ci(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function la(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===u?o=c:u.next=c,u=l;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=c:h.next=c,f.lastBaseUpdate=l)}}if(null!==o){for(h=a.baseState,u=0,f=c=l=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(c=f=d,l=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(l=h),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=f,zu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=ca(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=ca(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=ca(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ma(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=gi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=gi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Ea=Array.isArray;function Sa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function xa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ta(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Sa(e,t,n),r.return=e,r):((r=Ws(n.type,n.key,n.props,null,e.mode,r)).ref=Sa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Ws(t.type,t.key,t.props,null,e.mode,n)).ref=Sa(e,null,t),n.return=e,n;case S:return(t=Ys(t,e.mode,n)).return=e,t}if(Ea(t)||B(t))return(t=Qs(t,e.mode,n,null)).return=e,t;xa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===x?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null}if(Ea(n)||B(n))return null!==i?null:f(e,t,n,r,null);xa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===x?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ea(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);xa(t,r)}return null}function v(i,o,u,s){for(var l=null,c=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var g=d(i,f,u[v],s);if(null===g){null===f&&(f=y);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===c?l=g:c.sibling=g,c=g,f=y}if(v===u.length)return n(i,f),l;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===c?l=y:c.sibling=y,c=y);return e&&f.forEach((function(e){return t(i,e)})),l}function y(i,u,s,l){var c=B(s);if("function"!==typeof c)throw Error(o(150));if(null==(s=c.call(s)))throw Error(o(151));for(var f=c=null,v=u,y=u=0,g=null,m=s.next();null!==v&&!m.done;y++,m=s.next()){v.index>y?(g=v,v=null):g=v.sibling;var k=d(i,v,m.value,l);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,y),null===f?c=k:f.sibling=k,f=k,v=g}if(m.done)return n(i,v),c;if(null===v){for(;!m.done;y++,m=s.next())null!==(m=h(i,m.value,l))&&(u=a(m,u,y),null===f?c=m:f.sibling=m,f=m);return c}for(v=r(i,v);!m.done;y++,m=s.next())null!==(m=p(v,i,y,m.value,l))&&(e&&null!==m.alternate&&v.delete(null===m.key?y:m.key),u=a(m,u,y),null===f?c=m:f.sibling=m,f=m);return e&&v.forEach((function(e){return t(i,e)})),c}return function(e,r,a,s){var l="object"===typeof a&&null!==a&&a.type===x&&null===a.key;l&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case E:e:{for(c=a.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(a.type===x){n(e,l.sibling),(r=i(l,a.props.children)).return=e,e=r;break e}}else if(l.elementType===a.type){n(e,l.sibling),(r=i(l,a.props)).ref=Sa(e,l,a),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}a.type===x?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Ws(a.type,a.key,a.props,null,e.mode,s)).ref=Sa(e,r,a),s.return=e,e=s)}return u(e);case S:e:{for(l=a.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ys(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xs(a,e.mode,s)).return=e,e=r),u(e);if(Ea(a))return v(e,r,a,s);if(B(a))return y(e,r,a,s);if(c&&xa(e,a),"undefined"===typeof a&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,W(e.type)||"Component"))}return n(e,r)}}var _a=Ta(!0),Ca=Ta(!1),Ia={},Na=li(Ia),Aa=li(Ia),Da=li(Ia);function Pa(e){if(e===Ia)throw Error(o(174));return e}function Oa(e,t){switch(fi(Da,t),fi(Aa,e),fi(Na,Ia),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Na),fi(Na,t)}function La(){ci(Na),ci(Aa),ci(Da)}function Ra(e){Pa(Da.current);var t=Pa(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function Ma(e){Aa.current===e&&(ci(Na),ci(Aa))}var Fa=li(0);function Va(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,ja=null,za=!1;function Ba(e,t){var n=Ks(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ka(e){if(za){var t=ja;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Ua=e);Ba(Ua,n)}Ua=e,ja=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Ua=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ga(e){if(e!==Ua)return!1;if(!za)return Ha(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=ja;t;)Ba(e,t),t=Qr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ja=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ja=null}}else ja=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Wa(){ja=Ua=null,za=!1}var Qa=[];function $a(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Xa=w.ReactCurrentDispatcher,Ya=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Oo:Lo,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Xa.current=Ro,e=n(r,i)}while(ro)}if(Xa.current=Po,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function lo(e,t){return"function"===typeof t?t(e):t}function co(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,l=i;do{var c=l.lane;if((Ja&c)===c)null!==s&&(s=s.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=c,zu|=c}l=l.next}while(null!==l&&l!==i);null===s?a=r:s.next=u,cr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);cr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Ou;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Xa.current,l=s.useState((function(){return ho(i,t,n)})),c=l[1],f=l[0];l=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=a(t._source);if(!cr(u,e)){e=n(t._source),cr(f,e)||(c(e),e=ds(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Kt(o),l=1<<s;r[s]|=e,o&=~l}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),cr(p,n)&&cr(v,t)&&cr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:f}).dispatch=c=Do.bind(null,Za,e),l.queue=e,l.baseQueue=null,f=ho(i,t,n),l.memoizedState=l.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function yo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:e}).dispatch=Do.bind(null,Za,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mo(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void go(t,n,a,r)}Za.flags|=e,i.memoizedState=go(1|t,n,a,r)}function Eo(e,t){return bo(516,4,e,t)}function So(e,t){return wo(516,4,e,t)}function xo(e,t){return wo(4,2,e,t)}function To(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,To.bind(null,t,e),n)}function Co(){}function Io(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Ki();Gi(98>n?98:n,(function(){e(!0)})),Gi(97<n?97:n,(function(){var n=Ya.transition;Ya.transition=1;try{e(!1),t()}finally{Ya.transition=n}}))}function Do(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,cr(s,u))return}catch(l){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:Eo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,To.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Do.bind(null,Za,e),[r.memoizedState,e]},useRef:mo,useState:yo,useDebugValue:Co,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return Eo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return mo(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:R,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,go(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return yo(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Io,useContext:oa,useEffect:So,useImperativeHandle:_o,useLayoutEffect:xo,useMemo:No,useReducer:co,useRef:ko,useState:function(){return co(lo)},useDebugValue:Co,useDeferredValue:function(e){var t=co(lo),n=t[0],r=t[1];return So((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=co(lo)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return co(lo)[0]},unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:Io,useContext:oa,useEffect:So,useImperativeHandle:_o,useLayoutEffect:xo,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(lo)},useDebugValue:Co,useDeferredValue:function(e){var t=fo(lo),n=t[0],r=t[1];return So((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=fo(lo)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(lo)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Fo=!1;function Vo(e,t,n,r){t.child=null===e?Ca(t,null,n,r):_a(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Vo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function jo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ws(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Gs(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Ko(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Es(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Es(t,e),null;t.memoizedState={baseLanes:0},Es(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Es(t,r);return Vo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ko(e,t,n,r,i){var a=gi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Vo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ho(e,t,n,r,i){if(gi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=oa(l):l=yi(t,l=gi(n)?vi:di.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&ba(t,o,r,l),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof c&&(ya(t,n,c,r),s=t.memoizedState),(u=ua||ma(t,n,u,r,h,s,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,la(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:Yi(t.type,u),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=yi(t,s=gi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(l=ua||ma(t,n,l,r,h,p,s))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Go(e,t,n,r,a,i)}function Go(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&Ei(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=_a(t,e.child,null,a),t.child=_a(t,null,u,a)):Vo(e,t,u,a),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Wo(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Qo,$o,Xo,Yo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Ka(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,t.lanes=33554432,e):((n=$s({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Yo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$s(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Gs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gs(o,u),null!==e?r=Gs(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Vo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Va(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Va(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Gs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&mi(),null;case 3:return La(),ci(pi),ci(di),$a(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ga(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Da.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Na.current),Ga(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Zr]=u,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<_r.length;e++)Ar(_r[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,u),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Ar("invalid",r);break;case"textarea":se(r,u),Ar("invalid",r)}for(var l in xe(n,u),e=null,u)u.hasOwnProperty(l)&&(a=u[l],"children"===l?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(l)&&null!=a&&"onScroll"===l&&Ar("scroll",r));switch(n){case"input":X(r),re(r,u,!0);break;case"textarea":X(r),ce(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(l=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,l=Te(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<_r.length;a++)Ar(_r[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Ar("invalid",e);break;default:a=r}xe(n,a);var c=a;for(u in c)if(c.hasOwnProperty(u)){var f=c[u];"style"===u?Ee(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&me(e,f):"number"===typeof f&&me(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Ar("scroll",e):null!=f&&b(e,u,f,l))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=jr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Da.current),Pa(Na.current),Ga(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return ci(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ga(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Vu&&(Vu=3):(0!==Vu&&3!==Vu||(Vu=4),null===Ou||0===(134217727&zu)&&0===(134217727&Bu)||ms(Ou,Ru))),(r||n)&&(t.flags|=4),null);case 4:return La(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(ci(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(l=r.rendering))if(u)ou(r,!1);else{if(0!==Vu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(l=Va(e))){for(t.flags|=64,ou(r,!1),null!==(u=l.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(l=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=l.childLanes,u.lanes=l.lanes,u.child=l.child,u.memoizedProps=l.memoizedProps,u.memoizedState=l.memoizedState,u.updateQueue=l.updateQueue,u.type=l.type,e=l.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Gu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Va(l))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Gu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return Ss(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:gi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(La(),ci(pi),ci(di),$a(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return ci(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Fa),null;case 4:return La(),null;case 10:return ra(e),null;case 23:case 24:return Ss(),null;default:return null}}function lu(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function cu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Na.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=jr)}for(f in xe(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var l=a[f];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var c=r[f];if(l=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&c!==l&&(null!=c||null!=l))if("style"===f)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(u||(u=[]),u.push(f,n)),n=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(u=u||[]).push(f,c)):"children"===f?"string"!==typeof c&&"number"!==typeof c||(u=u||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Ar("scroll",e),u||l===c||(u=[])):"object"===typeof c&&null!==c&&c.$$typeof===R?c.toString():(u=u||[]).push(f,c))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=ca(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xu||(Xu=!0,Yu=r),cu(0,t)},n}function du(e,t,n){(n=ca(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return cu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),cu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){js(e,n)}else t.current=null}function yu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Wr(t.stateNode.containerInfo))}throw Error(o(163))}function gu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(o(163))}function mu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(xi&&"function"===typeof xi.onCommitFiberUnmount)try{xi.onCommitFiberUnmount(Si,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){js(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){js(t,a)}break;case 5:vu(t);break;case 4:Tu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function Eu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Su(e,n,t):xu(e,n,t)}function Su(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(Su(e,t,n),e=e.sibling;null!==e;)Su(e,t,n),e=e.sibling}function xu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(xu(e,t,n),e=e.sibling;null!==e;)xu(e,t,n),e=e.sibling}function Tu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,l=s;;)if(ku(u,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===s)break e;for(;null===l.sibling;){if(null===l.return||l.return===s)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function _u(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?Ee(n,s):"dangerouslySetInnerHTML"===u?ge(n,s):"children"===u?me(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hu=qi(),mu(t.child,!0)),void Cu(t);case 19:return void Cu(t);case 23:case 24:return void mu(t,null!==t.memoizedState)}throw Error(o(163))}function Cu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Iu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Nu=Math.ceil,Au=w.ReactCurrentDispatcher,Du=w.ReactCurrentOwner,Pu=0,Ou=null,Lu=null,Ru=0,Mu=0,Fu=li(0),Vu=0,Uu=null,ju=0,zu=0,Bu=0,qu=0,Ku=null,Hu=0,Gu=1/0;function Wu(){Gu=qi()+500}var Qu,$u=null,Xu=!1,Yu=null,Ju=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,ls=0,cs=null,fs=!1;function hs(){return 0!==(48&Pu)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===ss&&(ss=ju),0!==Xi.transition){0!==ls&&(ls=null!==Ku?Ku.pendingLanes:0),e=ss;var t=4186112&~ls;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Pu)&&98===e?e=jt(12,ss):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Ou&&(Bu|=t,4===Vu&&ms(e,Ru));var r=Ki();1===t?0!==(8&Pu)&&0===(48&Pu)?ks(e):(ys(e,n),0===Pu&&(Wu(),Qi())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ys(e,n)),Ku=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ys(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Kt(u),l=1<<s,c=a[s];if(-1===c){if(0===(l&r)||0!==(l&i)){c=t,Ft(l);var f=Mt;a[s]=10<=f?c+250:6<=f?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);u&=~l}if(r=Vt(e,e===Ou?Ru:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ci(n)}15===t?(n=ks.bind(null,e),null===Ui?(Ui=[n],ji=_i(Pi,$i)):Ui.push(n),n=Fi):14===t?n=Wi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Wi(n,gs.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gs(e){if(us=-1,ls=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Rs()&&e.callbackNode!==t)return null;var n=Vt(e,e===Ou?Ru:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=_s();for(Ou===e&&Ru===r||(Wu(),xs(e,r));;)try{Ns();break}catch(s){Ts(e,s)}if(na(),Au.current=a,Pu=i,null!==Lu?r=0:(Ou=null,Ru=0,r=Vu),0!==(ju&Bu))xs(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(n=Ut(e))&&(r=Cs(e,n))),1===r)throw t=Uu,xs(e,0),ms(e,n),ys(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(ms(e,n),(62914560&n)===n&&10<(r=Hu+500-qi())){if(0!==Vt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(ms(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Kt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nu(n/1960))-n)){e.timeoutHandle=Hr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ys(e,qi()),e.callbackNode===t?gs.bind(null,e):null}function ms(e,t){for(t&=~qu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Pu))throw Error(o(327));if(Rs(),e===Ou&&0!==(e.expiredLanes&Ru)){var t=Ru,n=Cs(e,t);0!==(ju&Bu)&&(n=Cs(e,t=Vt(e,t)))}else n=Cs(e,t=Vt(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(t=Ut(e))&&(n=Cs(e,t))),1===n)throw n=Uu,xs(e,0),ms(e,t),ys(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ys(e,qi()),null}function bs(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Wu(),Qi())}}function ws(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Wu(),Qi())}}function Es(e,t){fi(Fu,Mu),Mu|=t,ju|=t}function Ss(){Mu=Fu.current,ci(Fu)}function xs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Gr(n)),null!==Lu)for(n=Lu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:La(),ci(pi),ci(di),$a();break;case 5:Ma(r);break;case 4:La();break;case 13:case 19:ci(Fa);break;case 10:ra(r);break;case 23:case 24:Ss()}n=n.return}Ou=e,Lu=Gs(e.current,null),Ru=Mu=ju=t,Vu=0,Uu=null,qu=Bu=zu=0}function Ts(e,t){for(;;){var n=Lu;try{if(na(),Xa.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Du.current=null,null===n||null===n.return){Vu=1,Uu=t,Lu=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Ru,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&u.mode)){var c=u.alternate;c?(u.updateQueue=c.updateQueue,u.memoizedState=c.memoizedState,u.lanes=c.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var g=new Set;g.add(l),h.updateQueue=g}else y.add(l);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var m=ca(-1,1);m.tag=2,fa(u,m)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(l,s)):void 0===(s=k.get(l))&&(s=new Set,k.set(l,s)),!s.has(u)){s.add(u);var b=zs.bind(null,a,l,u);l.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((W(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Vu&&(Vu=2),s=lu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,E=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Ju||!Ju.has(E)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Ds(n)}catch(S){t=S,Lu===n&&null!==n&&(Lu=n=n.return);continue}break}}function _s(){var e=Au.current;return Au.current=Po,null===e?Po:e}function Cs(e,t){var n=Pu;Pu|=16;var r=_s();for(Ou===e&&Ru===t||xs(e,t);;)try{Is();break}catch(i){Ts(e,i)}if(na(),Pu=n,Au.current=r,null!==Lu)throw Error(o(261));return Ou=null,Ru=0,Vu}function Is(){for(;null!==Lu;)As(Lu)}function Ns(){for(;null!==Lu&&!Ii();)As(Lu)}function As(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Ds(e):Lu=t,Du.current=null}function Ds(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Lu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Lu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Lu=t);Lu=t=e}while(null!==t);0===Vu&&(Vu=5)}function Ps(e){var t=Ki();return Gi(99,Os.bind(null,e,t)),null}function Os(e,t){do{Rs()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var l=31-Kt(a),c=1<<l;i[l]=0,u[l]=-1,s[l]=-1,a&=~c}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ou&&(Lu=Ou=null,Ru=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Du.current=null,zr=$t,gr(u=yr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(c=s.getSelection&&s.getSelection())&&0!==c.rangeCount){s=c.anchorNode,a=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{s.nodeType,l.nodeType}catch(_){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,g=null;t:for(;;){for(var m;y!==s||0!==a&&3!==y.nodeType||(h=f+a),y!==l||0!==c&&3!==y.nodeType||(d=f+c),3===y.nodeType&&(f+=y.nodeValue.length),null!==(m=y.firstChild);)g=y,y=m;for(;;){if(y===u)break t;if(g===s&&++p===a&&(h=f),g===l&&++v===c&&(d=f),null!==(m=y.nextSibling))break;g=(y=g).parentNode}y=m}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},$t=!1,cs=null,fs=!1,$u=r;do{try{Ls()}catch(_){if(null===$u)throw Error(o(330));js($u,_),$u=$u.nextEffect}}while(null!==$u);cs=null,$u=r;do{try{for(u=e;null!==$u;){var k=$u.flags;if(16&k&&me($u.stateNode,""),128&k){var b=$u.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:Eu($u),$u.flags&=-3;break;case 6:Eu($u),$u.flags&=-3,_u($u.alternate,$u);break;case 1024:$u.flags&=-1025;break;case 1028:$u.flags&=-1025,_u($u.alternate,$u);break;case 4:_u($u.alternate,$u);break;case 8:Tu(u,s=$u);var E=s.alternate;bu(s),null!==E&&bu(E)}$u=$u.nextEffect}}catch(_){if(null===$u)throw Error(o(330));js($u,_),$u=$u.nextEffect}}while(null!==$u);if(w=Br,b=yr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&gr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,E=Math.min(u.start,s),u=void 0===u.end?E:Math.min(u.end,s),!w.extend&&E>u&&(s=u,u=E,E=s),s=pr(k,E),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),E>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!zr,Br=zr=null,e.current=n,$u=r;do{try{for(k=e;null!==$u;){var S=$u.flags;if(36&S&&gu(k,$u.alternate,$u),128&S){b=void 0;var x=$u.ref;if(null!==x){var T=$u.stateNode;$u.tag,b=T,"function"===typeof x?x(b):x.current=b}}$u=$u.nextEffect}}catch(_){if(null===$u)throw Error(o(330));js($u,_),$u=$u.nextEffect}}while(null!==$u);$u=null,Vi(),Pu=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for($u=r;null!==$u;)t=$u.nextEffect,$u.nextEffect=null,8&$u.flags&&((S=$u).sibling=null,S.stateNode=null),$u=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,xi&&"function"===typeof xi.onCommitFiberRoot)try{xi.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(_){}if(ys(e,qi()),Xu)throw Xu=!1,e=Yu,Yu=null,e;return 0!==(8&Pu)||Qi(),null}function Ls(){for(;null!==$u;){var e=$u.alternate;fs||null===cs||(0!==(8&$u.flags)?et($u,cs)&&(fs=!0):13===$u.tag&&Iu(e,$u)&&et($u,cs)&&(fs=!0));var t=$u.flags;0!==(256&t)&&yu(e,$u),0===(512&t)||Zu||(Zu=!0,Wi(97,(function(){return Rs(),null}))),$u=$u.nextEffect}}function Rs(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Gi(e,Vs)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Wi(97,(function(){return Rs(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Wi(97,(function(){return Rs(),null})))}function Vs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(l){if(null===a)throw Error(o(330));js(a,l)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(l){if(null===a)throw Error(o(330));js(a,l)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,Qi(),!0}function Us(e,t,n){fa(e,t=hu(0,t=lu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ys(e,t))}function js(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=lu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ys(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ou===e&&(Ru&n)===n&&(4===Vu||3===Vu&&(62914560&Ru)===Ru&&500>qi()-Hu?xs(e,0):qu|=n),ys(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===ss&&(ss=ju),0===(t=zt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ys(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(e,t,n,r){return new qs(e,t,n,r)}function Hs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gs(e,t){var n=e.alternate;return null===n?((n=Ks(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ws(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Hs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case T:u=8,i|=1;break;case _:return(e=Ks(12,n,t,8|i)).elementType=_,e.type=_,e.lanes=a,e;case A:return(e=Ks(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case D:return(e=Ks(19,n,t,i)).elementType=D,e.lanes=a,e;case F:return $s(n,i,a,t);case V:return(e=Ks(24,n,t,i)).elementType=V,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:u=10;break e;case I:u=9;break e;case N:u=11;break e;case P:u=14;break e;case O:u=16,r=null;break e;case L:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ks(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ks(7,e,r,t)).lanes=n,e}function $s(e,t,n,r){return(e=Ks(23,e,r,t)).elementType=F,e.lanes=n,e}function Xs(e,t,n){return(e=Ks(6,e,null,t)).lanes=n,e}function Ys(e,t,n){return(t=Ks(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function el(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(gi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var l=n.type;if(gi(l)){n=bi(n,l,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=ca(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rl(e,t){nl(e,t),(e=e.alternate)&&nl(e,t)}function il(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Ks(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function al(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ol(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tl(o);u.call(e)}}el(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new il(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tl(o);s.call(e)}}ws((function(){el(t,o,e,i)}))}return tl(o)}function ul(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!al(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Wo(t),Wa();break;case 5:Ra(t);break;case 1:gi(t.type)&&wi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ya(t,r,u,e),i.updater=ga,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Go(null,t,r,!0,a,n)}else t.tag=0,Vo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=Yi(i,e),a){case 0:t=Ko(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=jo(null,t,i,Yi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Wo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,la(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Wa(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(ja=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ca(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Vo(e,t,r,n),Wa();t=t.child}return t;case 5:return Ra(t),null===e&&Ka(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Kr(r,i)?u=null:null!==a&&Kr(r,a)&&(t.flags|=16),qo(e,t),Vo(e,t,u,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return Jo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_a(t,null,r,n):Vo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Vo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Vo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=cr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){u=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===s.tag&&((c=ca(-1,n&-n)).tag=2,fa(s,c)),s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),ia(s.return,n),l.lanes|=n;break}c=c.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Vo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Vo(e,t,r,n),t.child;case 14:return a=Yi(i=t.type,t.pendingProps),jo(e,t,i,a=Yi(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Go(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},il.prototype.render=function(e){el(e,this._internalRoot,null,null)},il.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;el(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rl(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rl(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rl(e,n)}},it=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));Y(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bs,Le=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Gi(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Wu(),Qi())}},Re=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ys(e,qi())}))}Qi()}(),Rs())},Me=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Wu(),Qi())}};var sl={Events:[ri,ii,ai,De,Pe,Rs,{current:!1}]},ll={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cl={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{Si=fl.inject(cl),xi=fl}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl,t.createPortal=ul,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Gi(99,e.bind(null,t))}finally{Pu=n,Qi()}},t.hydrate=function(e,t,n){if(!al(t))throw Error(o(200));return ol(null,e,t,!0,n)},t.render=function(e,t,n){if(!al(t))throw Error(o(200));return ol(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!al(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){ol(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return ul(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!al(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ol(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:o.current}}t.jsx=l,t.jsxs=l},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),l=f("react.memo"),c=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=m.prototype=new g;k.constructor=m,r(k,y.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+_(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),C(o,t,n,"",(function(e){return e}))):null!=o&&(x(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=r+_(u=e[l],l);s+=C(u,t,n,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=C(u=u.value,t,n,c=r+_(u,l++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function I(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function D(){var e=A.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!E.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];a.children=l}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new I(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=T(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=c(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function g(){}function m(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var E=m.prototype=y.prototype=Object.create(k);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return g.prototype=m,s(E,"constructor",m),s(m,"constructor",g),g.displayName=s(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},S(x.prototype),s(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(E),s(E,u,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,f=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(f,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,g=-1,m=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+m;try{y(!0,e)?w.postMessage(null):(v=!1,y=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,w.postMessage(null))},r=function(e,n){g=h((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>T(o,n))void 0!==s&&0>T(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>T(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var _=[],C=[],I=1,N=null,A=3,D=!1,P=!1,O=!1;function L(e){for(var t=S(C);null!==t;){if(null===t.callback)x(C);else{if(!(t.startTime<=e))break;x(C),t.sortIndex=t.expirationTime,E(_,t)}t=S(C)}}function R(e){if(O=!1,L(e),!P)if(null!==S(_))P=!0,n(M);else{var t=S(C);null!==t&&r(R,t.startTime-e)}}function M(e,n){P=!1,O&&(O=!1,i()),D=!0;var a=A;try{for(L(n),N=S(_);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var u=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?N.callback=u:N===S(_)&&x(_),L(n)}else x(_);N=S(_)}if(null!==N)var s=!0;else{var l=S(C);null!==l&&r(R,l.startTime-n),s=!1}return s}finally{N=null,A=a,D=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||D||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return S(_)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:I++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,E(C,e),null===S(_)&&e===S(C)&&(O?i():O=!0,r(R,o-u))):(e.sortIndex=s,E(_,e),P||D||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=n(791),t=n(164);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function d(e){var t=l();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}var p=n(184),v={image:{height:110,width:110,borderRadius:4,background:"#ccc"}},y=function(e){var t=e.product,n=t.price,r=t.title,i=t.qty,a=t.img;return(0,p.jsxs)("div",{className:"cart-item",children:[(0,p.jsx)("div",{className:"left-block",children:(0,p.jsx)("img",{style:v.image,src:a})}),(0,p.jsxs)("div",{className:"right-block",children:[(0,p.jsxs)("div",{style:{fontSize:25},children:[" ",r," "]}),(0,p.jsxs)("div",{style:{color:"#777"},children:[" rs ",n," "]}),(0,p.jsxs)("div",{style:{color:"#777"},children:[" qty: ",i," "]}),(0,p.jsxs)("div",{className:"cart-item-actions",children:[(0,p.jsx)("img",{onClick:function(){return e.onIncreaseQuantity(e.product)},alt:"increase",className:"action-icons",src:"https://cdn-icons-png.flaticon.com/512/992/992651.png"}),(0,p.jsx)("img",{onClick:function(){return e.onDecreaseQuantity(e.product)},alt:"decrease",className:"action-icons",src:"https://cdn-icons.flaticon.com/png/512/2985/premium/2985073.png?token=exp=1646338483~hmac=fc273f04530eac84880fde701365e114"}),(0,p.jsx)("img",{onClick:function(){return e.onDeleteProduct(e.product.id)},alt:"delete",className:"action-icons",src:"https://cdn-icons.flaticon.com/png/512/2782/premium/2782988.png?token=exp=1646338698~hmac=97d066ed6ebc72f0d4f5b90c3905f6c0"})]})]})]})},g=function(e){var t=e.products;return(0,p.jsx)("div",{className:"cart",children:t.map((function(t){return(0,p.jsx)(y,{product:t,onIncreaseQuantity:e.onIncreaseQuantity,onDecreaseQuantity:e.onDecreaseQuantity,onDeleteProduct:e.onDeleteProduct},t.id)}))})},m={cartIcon:{height:32,marginRight:20},nav:{height:70,background:"#4267b2",display:"flex",justifyContent:"flex-end",alignItems:"center"},cartIconContainer:{position:"relative"},cartCount:{background:"yellow",borderRadius:"50%",padding:"4px 8px",position:"absolute",right:0,top:-9}},k=function(e){return(0,p.jsx)("div",{style:m.nav,children:(0,p.jsxs)("div",{style:m.cartIconContainer,children:[(0,p.jsx)("img",{style:m.cartIcon,src:"https://cdn-icons-png.flaticon.com/512/891/891462.png",alt:"cart-icon"}),(0,p.jsx)("span",{style:m.cartCount,children:e.count})]})})};function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){if(e){if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function E(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(l){return void n(l)}u.done?t(s):Promise.resolve(s).then(r,i)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){S(a,r,i,o,u,"next",e)}function u(e){S(a,r,i,o,u,"throw",e)}o(void 0)}))}}function T(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=w(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=n(757),I=n.n(C);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t,n){return A=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i},A.apply(null,arguments)}function D(e){var t="function"===typeof Map?new Map:void 0;return D=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return A(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o(n,e)},D(e)}var P=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},O={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(P(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==u){var c=o<<4&240|u>>2;if(r.push(c),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},L=function(e){var t=P(e);return O.encodeByteArray(t,!0)};var R=function(){function e(){var t=this;r(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return a(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function M(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var F=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this,i)).code=e,o.customData=a,o.name="FirebaseError",Object.setPrototypeOf(f(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(f(o),V.prototype.create),o}return a(n)}(D(Error)),V=function(){function e(t,n,i){r(this,e),this.service=t,this.serviceName=n,this.errors=i}return a(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?U(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new F(n,a,t);return o}}]),e}();function U(e,t){return e.replace(j,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var j=/\{\$([^}]+)}/g;function z(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(B(u)&&B(s)){if(!z(u,s))return!1}else if(u!==s)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function B(e){return null!==e&&"object"===typeof e}function q(e){return e&&e._delegate?e._delegate:e}var K=function(){function e(t,n,i){r(this,e),this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return a(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),H="[DEFAULT]",G=function(){function e(t,n){r(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return a(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new R;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:H})}catch(s){}var t,n=T(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=N(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=x(C.mark((function e(){var t;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(E(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),E(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=T(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=N(i.value,2),s=u[0],l=u[1],c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Eh){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===H?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Eh){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;return this.component?this.component.multipleInstances?e:H:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var W,Q,$=function(){function e(t){r(this,e),this.name=t,this.providers=new Map}return a(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new G(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),X=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Q||(Q={}));var Y={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},J=Q.INFO,Z=(_(W={},Q.DEBUG,"log"),_(W,Q.VERBOSE,"log"),_(W,Q.INFO,"info"),_(W,Q.WARN,"warn"),_(W,Q.ERROR,"error"),W),ee=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Z[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},te=function(){function e(t){r(this,e),this.name=t,this._logLevel=J,this._logHandler=ee,this._userLogHandler=null,X.push(this)}return a(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Q))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Y[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Q.DEBUG].concat(t)),this._logHandler.apply(this,[this,Q.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Q.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Q.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Q.INFO].concat(t)),this._logHandler.apply(this,[this,Q.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Q.WARN].concat(t)),this._logHandler.apply(this,[this,Q.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Q.ERROR].concat(t)),this._logHandler.apply(this,[this,Q.ERROR].concat(t))}}]),e}();var ne,re,ie=n(753),ae=function(){function e(t){r(this,e),this.container=t}return a(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var oe="@firebase/app",ue="0.7.18",se=new te("@firebase/app"),le="[DEFAULT]",ce=(_(ne={},oe,"fire-core"),_(ne,"@firebase/app-compat","fire-core-compat"),_(ne,"@firebase/analytics","fire-analytics"),_(ne,"@firebase/analytics-compat","fire-analytics-compat"),_(ne,"@firebase/app-check","fire-app-check"),_(ne,"@firebase/app-check-compat","fire-app-check-compat"),_(ne,"@firebase/auth","fire-auth"),_(ne,"@firebase/auth-compat","fire-auth-compat"),_(ne,"@firebase/database","fire-rtdb"),_(ne,"@firebase/database-compat","fire-rtdb-compat"),_(ne,"@firebase/functions","fire-fn"),_(ne,"@firebase/functions-compat","fire-fn-compat"),_(ne,"@firebase/installations","fire-iid"),_(ne,"@firebase/installations-compat","fire-iid-compat"),_(ne,"@firebase/messaging","fire-fcm"),_(ne,"@firebase/messaging-compat","fire-fcm-compat"),_(ne,"@firebase/performance","fire-perf"),_(ne,"@firebase/performance-compat","fire-perf-compat"),_(ne,"@firebase/remote-config","fire-rc"),_(ne,"@firebase/remote-config-compat","fire-rc-compat"),_(ne,"@firebase/storage","fire-gcs"),_(ne,"@firebase/storage-compat","fire-gcs-compat"),_(ne,"@firebase/firestore","fire-fst"),_(ne,"@firebase/firestore-compat","fire-fst-compat"),_(ne,"fire-js","fire-js"),_(ne,"firebase","fire-js-all"),ne),fe=new Map,he=new Map;function de(e,t){try{e.container.addComponent(t)}catch(n){se.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function pe(e){var t=e.name;if(he.has(t))return se.debug("There were multiple attempts to register component ".concat(t,".")),!1;he.set(t,e);var n,r=T(fe.values());try{for(r.s();!(n=r.n()).done;){de(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ve(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var ye=(_(re={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),_(re,"bad-app-name","Illegal App name: '{$appName}"),_(re,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),_(re,"app-deleted","Firebase App named '{$appName}' already deleted"),_(re,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),_(re,"invalid-log-argument","First argument to `onLog` must be null or a function."),_(re,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),_(re,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),_(re,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),_(re,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),re),ge=new V("app","Firebase",ye),me=function(){function e(t,n,i){var a=this;r(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new K("app",(function(){return a}),"PUBLIC"))}return a(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ge.create("app-deleted",{appName:this._name})}}]),e}();function ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=fe.get(e);if(!t)throw ge.create("no-app",{appName:e});return t}function be(e,t,n){var r,i=null!==(r=ce[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void se.warn(u.join(" "))}pe(new K("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var we="firebase-heartbeat-store",Ee=null;function Se(){return Ee||(Ee=(0,ie.openDb)("firebase-heartbeat-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(we)})).catch((function(e){throw ge.create("storage-open",{originalErrorMessage:e.message})}))),Ee}function xe(e){return Te.apply(this,arguments)}function Te(){return Te=x(C.mark((function e(t){var n;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Se();case 3:return n=e.sent,e.abrupt("return",n.transaction(we).objectStore(we).get(Ae(t)));case 7:throw e.prev=7,e.t0=e.catch(0),ge.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Te.apply(this,arguments)}function _e(e,t){return Ce.apply(this,arguments)}function Ce(){return Ce=x(C.mark((function e(t,n){var r,i,a;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Se();case 3:return r=e.sent,i=r.transaction(we,"readwrite"),a=i.objectStore(we),e.next=8,a.put(n,Ae(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),ge.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ce.apply(this,arguments)}function Ie(e){return Ne.apply(this,arguments)}function Ne(){return Ne=x(C.mark((function e(t){var n,r;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Se();case 3:return n=e.sent,r=n.transaction(we,"readwrite"),e.next=7,r.objectStore(we).delete(Ae(t));case 7:return e.abrupt("return",r.complete);case 10:throw e.prev=10,e.t0=e.catch(0),ge.create("storage-delete",{originalErrorMessage:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Ne.apply(this,arguments)}function Ae(e){return"".concat(e.name,"!").concat(e.options.appId)}var De=function(){function e(t){var n=this;r(this,e),this.container=t,this._heartbeatsCache=null;var i=this.container.getProvider("app").getImmediate();this._storage=new Re(i),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return a(e,[{key:"triggerHeartbeat",value:function(){var e=x(C.mark((function e(){var t,n,r;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Pe(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(!this._heartbeatsCache.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.push({date:r,userAgent:n});case 12:return this._heartbeatsCache=this._heartbeatsCache.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=x(C.mark((function e(){var t,n,r,i;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache){e.next=5;break}return e.abrupt("return","");case 5:if(t=Oe(this._heartbeatsCache),n=t.heartbeatsToSend,r=t.unsentEntries,i=L(JSON.stringify({version:2,heartbeats:n})),!(r.length>0)){e.next=13;break}return this._heartbeatsCache=r,e.next=11,this._storage.overwrite(this._heartbeatsCache);case 11:e.next=15;break;case 13:this._heartbeatsCache=null,this._storage.deleteAll();case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Pe(){return(new Date).toISOString().substring(0,10)}function Oe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=T(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.userAgent===e.userAgent}));if(a){if(a.dates.push(e.date),Me(r)>n)return a.dates.pop(),"break"}else if(r.push({userAgent:e.userAgent,dates:[e.date]}),Me(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Le,Re=function(){function e(t){r(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return a(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=x(C.mark((function e(){return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=x(C.mark((function e(){var t;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",[]);case 7:return e.next=9,xe(this.app);case 9:return t=e.sent,e.abrupt("return",(null===t||void 0===t?void 0:t.heartbeats)||[]);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=x(C.mark((function e(t){return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",_e(this.app,{heartbeats:t}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=x(C.mark((function e(t){var n;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return n=e.sent,e.abrupt("return",_e(this.app,{heartbeats:[].concat(E(n),E(t))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=x(C.mark((function e(t){var n;return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return n=e.sent,e.abrupt("return",_e(this.app,{heartbeats:n.filter((function(e){return!t.includes(e)}))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteAll",value:function(){var e=x(C.mark((function e(){return C.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",Ie(this.app));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Me(e){return L(JSON.stringify({version:2,heartbeats:e})).length}Le="",pe(new K("platform-logger",(function(e){return new ae(e)}),"PRIVATE")),pe(new K("heartbeat",(function(e){return new De(e)}),"PRIVATE")),be(oe,ue,Le),be(oe,ue,"esm2017"),be("fire-js","");function Fe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}function Ve(){return Ve="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Fe(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ve.apply(this,arguments)}be("firebase","9.6.8","app");var Ue,je="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ze={},Be=Be||{},qe=je||self;function Ke(){}function He(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ge(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var We="closure_uid_"+(1e9*Math.random()>>>0),Qe=0;function $e(e,t,n){return e.call.apply(e.bind,arguments)}function Xe(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ye(e,t,n){return(Ye=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$e:Xe).apply(null,arguments)}function Je(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ze(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function et(){this.s=this.s,this.o=this.o}var tt={};et.prototype.s=!1,et.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,We)&&e[We]||(e[We]=++Qe)}(this);delete tt[e]}},et.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var nt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},rt=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function it(e){return Array.prototype.concat.apply([],arguments)}function at(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ot(e){return/^[\s\xa0]*$/.test(e)}var ut,st=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function lt(e,t){return-1!=e.indexOf(t)}function ct(e,t){return e<t?-1:e>t?1:0}e:{var ft=qe.navigator;if(ft){var ht=ft.userAgent;if(ht){ut=ht;break e}}ut=""}function dt(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function pt(e){var t={};for(var n in e)t[n]=e[n];return t}var vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<vt.length;a++)n=vt[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function gt(e){return gt[" "](e),e}gt[" "]=Ke;var mt,kt=lt(ut,"Opera"),bt=lt(ut,"Trident")||lt(ut,"MSIE"),wt=lt(ut,"Edge"),Et=wt||bt,St=lt(ut,"Gecko")&&!(lt(ut.toLowerCase(),"webkit")&&!lt(ut,"Edge"))&&!(lt(ut,"Trident")||lt(ut,"MSIE"))&&!lt(ut,"Edge"),xt=lt(ut.toLowerCase(),"webkit")&&!lt(ut,"Edge");function Tt(){var e=qe.document;return e?e.documentMode:void 0}e:{var _t="",Ct=function(){var e=ut;return St?/rv:([^\);]+)(\)|;)/.exec(e):wt?/Edge\/([\d\.]+)/.exec(e):bt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):xt?/WebKit\/(\S+)/.exec(e):kt?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ct&&(_t=Ct?Ct[1]:""),bt){var It=Tt();if(null!=It&&It>parseFloat(_t)){mt=String(It);break e}}mt=_t}var Nt,At={};function Dt(){return function(e){var t=At;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=st(String(mt)).split("."),n=st("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ct(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ct(0==a[2].length,0==o[2].length)||ct(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(qe.document&&bt){var Pt=Tt();Nt=Pt||(parseInt(mt,10)||void 0)}else Nt=void 0;var Ot=Nt,Lt=function(){if(!qe.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{qe.addEventListener("test",Ke,t),qe.removeEventListener("test",Ke,t)}catch(n){}return e}();function Rt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Mt(e,t){if(Rt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(St){e:{try{gt(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ft[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Mt.Z.h.call(this)}}Rt.prototype.h=function(){this.defaultPrevented=!0},Ze(Mt,Rt);var Ft={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),Ut=0;function jt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ut,this.ca=this.fa=!1}function zt(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Bt(e){this.src=e,this.g={},this.h=0}function qt(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=nt(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(zt(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Kt(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Bt.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Kt(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new jt(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Ht="closure_lm_"+(1e6*Math.random()|0),Gt={};function Wt(e,t,n,r,i){if(r&&r.once)return $t(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Wt(e,t[a],n,r,i);return null}return n=nn(n),e&&e[Vt]?e.N(t,n,Ge(r)?!!r.capture:!!r,i):Qt(e,t,n,!1,r,i)}function Qt(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ge(i)?!!i.capture:!!i,u=en(e);if(u||(e[Ht]=u=new Bt(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Zt;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Lt||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Jt(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $t(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)$t(e,t[a],n,r,i);return null}return n=nn(n),e&&e[Vt]?e.O(t,n,Ge(r)?!!r.capture:!!r,i):Qt(e,t,n,!0,r,i)}function Xt(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Xt(e,t[a],n,r,i);else r=Ge(r)?!!r.capture:!!r,n=nn(n),e&&e[Vt]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Kt(a=e.g[t],n,r,i))&&(zt(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=en(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Kt(t,n,r,i)),(n=-1<e?t[e]:null)&&Yt(n))}function Yt(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Vt])qt(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Jt(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=en(t))?(qt(n,e),0==n.h&&(n.src=null,t[Ht]=null)):zt(e)}}}function Jt(e){return e in Gt?Gt[e]:Gt[e]="on"+e}function Zt(e,t){if(e.ca)e=!0;else{t=new Mt(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Yt(e),e=n.call(r,t)}return e}function en(e){return(e=e[Ht])instanceof Bt?e:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function nn(e){return"function"===typeof e?e:(e[tn]||(e[tn]=function(t){return e.handleEvent(t)}),e[tn])}function rn(){et.call(this),this.i=new Bt(this),this.P=this,this.I=null}function an(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Rt(t,e);else if(t instanceof Rt)t.target=t.target||e;else{var i=t;yt(t=new Rt(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=on(o,r,!0,t)&&i}if(i=on(o=t.g=e,r,!0,t)&&i,i=on(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=on(o=t.g=n[a],r,!1,t)&&i}function on(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&qt(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ze(rn,et),rn.prototype[Vt]=!0,rn.prototype.removeEventListener=function(e,t,n,r){Xt(this,e,t,n,r)},rn.prototype.M=function(){if(rn.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zt(n[r]);delete t.g[e],t.h--}}this.I=null},rn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},rn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var un=qe.JSON.stringify;function sn(){var e=yn,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ln,cn=function(){function e(){r(this,e),this.h=this.g=null}return a(e,[{key:"add",value:function(e,t){var n=fn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),fn=new(function(){function e(t,n){r(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return a(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new hn}),(function(e){return e.reset()})),hn=function(){function e(){r(this,e),this.next=this.g=this.h=null}return a(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function dn(e){qe.setTimeout((function(){throw e}),0)}function pn(e,t){ln||function(){var e=qe.Promise.resolve(void 0);ln=function(){e.then(gn)}}(),vn||(ln(),vn=!0),yn.add(e,t)}var vn=!1,yn=new cn;function gn(){for(var e;e=sn();){try{e.h.call(e.g)}catch(n){dn(n)}var t=fn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}vn=!1}function mn(e,t){rn.call(this),this.h=e||1,this.g=t||qe,this.j=Ye(this.kb,this),this.l=Date.now()}function kn(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function bn(e,t,n){if("function"===typeof e)n&&(e=Ye(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ye(e.handleEvent,e)}return 2147483647<Number(t)?-1:qe.setTimeout(e,t||0)}function wn(e){e.g=bn((function(){e.g=null,e.i&&(e.i=!1,wn(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ze(mn,rn),(Ue=mn.prototype).da=!1,Ue.S=null,Ue.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),an(this,"tick"),this.da&&(kn(this),this.start()))}},Ue.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ue.M=function(){mn.Z.M.call(this),kn(this),delete this.g};var En=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).m=e,a.j=i,a.h=null,a.i=!1,a.g=null,a}return a(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:wn(this)}},{key:"M",value:function(){Ve(s(n.prototype),"M",this).call(this),this.g&&(qe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(et);function Sn(e){et.call(this),this.h=e,this.g={}}Ze(Sn,et);var xn=[];function Tn(e,t,n,r){Array.isArray(n)||(n&&(xn[0]=n.toString()),n=xn);for(var i=0;i<n.length;i++){var a=Wt(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function _n(e){dt(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Yt(e)}),e),e.g={}}function Cn(){this.g=!0}function In(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return un(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Sn.prototype.M=function(){Sn.Z.M.call(this),_n(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cn.prototype.Aa=function(){this.g=!1},Cn.prototype.info=function(){};var Nn={},An=null;function Dn(){return An=An||new rn}function Pn(e){Rt.call(this,Nn.Ma,e)}function On(e){var t=Dn();an(t,new Pn(t,e))}function Ln(e,t){Rt.call(this,Nn.STAT_EVENT,e),this.stat=t}function Rn(e){var t=Dn();an(t,new Ln(t,e))}function Mn(e,t){Rt.call(this,Nn.Na,e),this.size=t}function Fn(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return qe.setTimeout((function(){e()}),t)}Nn.Ma="serverreachability",Ze(Pn,Rt),Nn.STAT_EVENT="statevent",Ze(Ln,Rt),Nn.Na="timingevent",Ze(Mn,Rt);var Vn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Un={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jn(){}function zn(e){return e.h||(e.h=e.i())}function Bn(){}jn.prototype.h=null;var qn,Kn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Hn(){Rt.call(this,"d")}function Gn(){Rt.call(this,"c")}function Wn(){}function Qn(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Sn(this),this.P=Xn,e=Et?125:void 0,this.W=new mn(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $n}function $n(){this.i=null,this.g="",this.h=!1}Ze(Hn,Rt),Ze(Gn,Rt),Ze(Wn,jn),Wn.prototype.g=function(){return new XMLHttpRequest},Wn.prototype.i=function(){return{}},qn=new Wn;var Xn=45e3,Yn={},Jn={};function Zn(e,t,n){e.K=1,e.v=Er(yr(t)),e.s=n,e.U=!0,er(e,null)}function er(e,t){e.F=Date.now(),ir(e),e.A=yr(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Rr(n.h,"t",r),e.C=0,n=e.l.H,e.h=new $n,e.g=Fi(e.l,n?t:null,!e.s),0<e.O&&(e.L=new En(Ye(e.Ia,e,e.g),e.O)),Tn(e.V,e.g,"readystatechange",e.gb),t=e.H?pt(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),On(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var l=u[s].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function tr(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function nr(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=rr(e,n))==Jn){4==t&&(e.o=4,Rn(14),i=!1),In(e.j,e.m,null,"[Incomplete Response]");break}if(r==Yn){e.o=4,Rn(15),In(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}In(e.j,e.m,r,null),lr(e,r)}tr(e)&&r!=Jn&&r!=Yn&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Rn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ni(t),t.L=!0,Rn(11))):(In(e.j,e.m,n,"[Invalid Chunked Response]"),sr(e),ur(e))}function rr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Jn:(n=Number(t.substring(n,r)),isNaN(n)?Yn:(r+=1)+n>t.length?Jn:(t=t.substr(r,n),e.C=r+n,t))}function ir(e){e.Y=Date.now()+e.P,ar(e,e.P)}function ar(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Fn(Ye(e.eb,e),t)}function or(e){e.B&&(qe.clearTimeout(e.B),e.B=null)}function ur(e){0==e.l.G||e.I||Pi(e.l,e)}function sr(e){or(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,kn(e.W),_n(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function lr(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||qr(n.i,e)))if(n.I=e.N,!e.J&&qr(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Di(n),bi(n)}Ii(n),Rn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Fn(Ye(n.ab,n),6e3));if(1>=Br(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Li(n,11)}else if((e.J||n.g==e)&&Di(n),!ot(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;!f.g&&(lt(c,"spdy")||lt(c,"quic")||lt(c,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Kr(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,wr(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Mi(r,r.H?r.la:null,r.W),d.J){Hr(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(or(p),ir(p)),r.g=d}else Ci(r);0<n.l.length&&Si(n)}else"stop"!=a[0]&&"close"!=a[0]||Li(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Li(n,7):ki(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}On(4)}catch(a){}}function cr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(He(e)||"string"===typeof e)rt(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(He(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(He(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function fr(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof fr)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function hr(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];dr(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)dr(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function dr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ue=Qn.prototype).setTimeout=function(e){this.P=e},Ue.gb=function(e){e=e.target;var t=this.L;t&&3==pi(e)?t.l():this.Ia(e)},Ue.Ia=function(e){try{if(e==this.g)e:{var t=pi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Et||this.g&&(this.h.h||this.g.ga()||vi(this.g)))){this.I||4!=t||7==n||On(8==n||0>=r?3:2),or(this);var i=this.g.ba();this.N=i;t:if(tr(this)){var a=vi(this.g);e="";var o=a.length,u=4==pi(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){sr(this),ur(this);var s="";break t}this.h.i=new qe.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(l)){var f=l;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Rn(12),sr(this),ur(this);break e}In(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lr(this,i)}this.U?(nr(this,t,s),Et&&this.i&&3==t&&(Tn(this.V,this.W,"tick",this.fb),this.W.start())):(In(this.j,this.m,s,null),lr(this,s)),4==t&&sr(this),this.i&&!this.I&&(4==t?Pi(this.l,this):(this.i=!1,ir(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Rn(12)):(this.o=0,Rn(13)),sr(this),ur(this)}}}catch(t){}},Ue.fb=function(){if(this.g){var e=pi(this.g),t=this.g.ga();this.C<t.length&&(or(this),nr(this,e,t),this.i&&4!=e&&ir(this))}},Ue.cancel=function(){this.I=!0,sr(this)},Ue.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(On(3),Rn(17)),sr(this),this.o=2,ur(this)):ar(this,this.Y-e)},(Ue=fr.prototype).R=function(){hr(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Ue.T=function(){return hr(this),this.g.concat()},Ue.get=function(e,t){return dr(this.h,e)?this.h[e]:t},Ue.set=function(e,t){dr(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Ue.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var pr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vr(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof vr){this.g=void 0!==t?t:e.g,gr(this,e.j),this.s=e.s,mr(this,e.i),kr(this,e.m),this.l=e.l,t=e.h;var n=new Dr;n.i=t.i,t.g&&(n.g=new fr(t.g),n.h=t.h),br(this,n),this.o=e.o}else e&&(n=String(e).match(pr))?(this.g=!!t,gr(this,n[1]||"",!0),this.s=Sr(n[2]||""),mr(this,n[3]||"",!0),kr(this,n[4]),this.l=Sr(n[5]||"",!0),br(this,n[6]||"",!0),this.o=Sr(n[7]||"")):(this.g=!!t,this.h=new Dr(null,this.g))}function yr(e){return new vr(e)}function gr(e,t,n){e.j=n?Sr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function mr(e,t,n){e.i=n?Sr(t,!0):t}function kr(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function br(e,t,n){t instanceof Dr?(e.h=t,function(e,t){t&&!e.j&&(Pr(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Or(this,t),Rr(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=xr(t,Nr)),e.h=new Dr(t,e.g))}function wr(e,t,n){e.h.set(t,n)}function Er(e){return wr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Sr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xr(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Tr),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Tr(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}vr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xr(t,_r,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(xr(t,_r,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(xr(n,"/"==n.charAt(0)?Ir:Cr,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",xr(n,Ar)),e.join("")};var _r=/[#\/\?@]/g,Cr=/[#\?:]/g,Ir=/[#\?]/g,Nr=/[#\?@]/g,Ar=/#/g;function Dr(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pr(e){e.g||(e.g=new fr,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Or(e,t){Pr(e),t=Mr(e,t),dr(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,dr((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&hr(e)))}function Lr(e,t){return Pr(e),t=Mr(e,t),dr(e.g.h,t)}function Rr(e,t,n){Or(e,t),0<n.length&&(e.i=null,e.g.set(Mr(e,t),at(n)),e.h+=n.length)}function Mr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ue=Dr.prototype).add=function(e,t){Pr(this),this.i=null,e=Mr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ue.forEach=function(e,t){Pr(this),this.g.forEach((function(n,r){rt(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ue.T=function(){Pr(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ue.R=function(e){Pr(this);var t=[];if("string"===typeof e)Lr(this,e)&&(t=it(t,this.g.get(Mr(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=it(t,e[n])}return t},Ue.set=function(e,t){return Pr(this),this.i=null,Lr(this,e=Mr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ue.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Fr=a((function e(t,n){r(this,e),this.h=t,this.g=n}));function Vr(e){this.l=e||jr,qe.PerformanceNavigationTiming?e=0<(e=qe.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(qe.g&&qe.g.Ea&&qe.g.Ea()&&qe.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ur,jr=10;function zr(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Br(e){return e.h?1:e.g?e.g.size:0}function qr(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Kr(e,t){e.g?e.g.add(t):e.h=t}function Hr(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Gr(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=T(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return at(e.i)}function Wr(){}function Qr(){this.g=new Wr}function $r(e,t,n){var r=n||"";try{cr(e,(function(e,n){var i=e;Ge(e)&&(i=un(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Xr(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Yr(e){this.l=e.$b||null,this.j=e.ib||!1}function Jr(e,t){rn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Zr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vr.prototype.cancel=function(){if(this.i=Gr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=T(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Wr.prototype.stringify=function(e){return qe.JSON.stringify(e,void 0)},Wr.prototype.parse=function(e){return qe.JSON.parse(e,void 0)},Ze(Yr,jn),Yr.prototype.g=function(){return new Jr(this.l,this.j)},Yr.prototype.i=(Ur={},function(){return Ur}),Ze(Jr,rn);var Zr=0;function ei(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function ti(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ni(e)}function ni(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ue=Jr.prototype).open=function(e,t){if(this.readyState!=Zr)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ni(this)},Ue.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||qe).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ti(this)),this.readyState=Zr},Ue.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof qe.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ei(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Ue.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ti(this):ni(this),3==this.readyState&&ei(this)}},Ue.Ua=function(e){this.g&&(this.response=this.responseText=e,ti(this))},Ue.Ta=function(e){this.g&&(this.response=e,ti(this))},Ue.ha=function(){this.g&&ti(this)},Ue.setRequestHeader=function(e,t){this.v.append(e,t)},Ue.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ue.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Jr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ri=qe.JSON.parse;function ii(e){rn.call(this),this.headers=new fr,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ai,this.K=this.L=!1}Ze(ii,rn);var ai="",oi=/^https?$/i,ui=["POST","PUT"];function si(e){return"content-type"==e.toLowerCase()}function li(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ci(e),hi(e)}function ci(e){e.D||(e.D=!0,an(e,"complete"),an(e,"error"))}function fi(e){if(e.h&&"undefined"!=typeof Be&&(!e.C[1]||4!=pi(e)||2!=e.ba()))if(e.v&&4==pi(e))bn(e.Fa,0,e);else if(an(e,"readystatechange"),4==pi(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(pr)[1]||null;if(!a&&qe.self&&qe.self.location){var o=qe.self.location.protocol;a=o.substr(0,o.length-1)}i=!oi.test(a?a.toLowerCase():"")}t=i}if(t)an(e,"complete"),an(e,"success");else{e.m=6;try{var u=2<pi(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",ci(e)}}finally{hi(e)}}}function hi(e,t){if(e.g){di(e);var n=e.g,r=e.C[0]?Ke:null;e.g=null,e.C=null,t||an(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function di(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(qe.clearTimeout(e.A),e.A=null)}function pi(e){return e.g?e.g.readyState:0}function vi(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ai:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function yi(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return dt(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):wr(e,t,n))}function gi(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function mi(e){this.za=0,this.l=[],this.h=new Cn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=gi("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=gi("baseRetryDelayMs",5e3,e),this.$a=gi("retryDelaySeedMs",1e4,e),this.Ya=gi("forwardChannelMaxRetries",2,e),this.ra=gi("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Vr(e&&e.concurrentRequestLimit),this.Ca=new Qr,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ki(e){if(wi(e),3==e.G){var t=e.V++,n=yr(e.F);wr(n,"SID",e.J),wr(n,"RID",t),wr(n,"TYPE","terminate"),Ti(e,n),(t=new Qn(e,e.h,t,void 0)).K=2,t.v=Er(yr(n)),n=!1,qe.navigator&&qe.navigator.sendBeacon&&(n=qe.navigator.sendBeacon(t.v.toString(),"")),!n&&qe.Image&&((new Image).src=t.v,n=!0),n||(t.g=Fi(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ir(t)}Ri(e)}function bi(e){e.g&&(Ni(e),e.g.cancel(),e.g=null)}function wi(e){bi(e),e.u&&(qe.clearTimeout(e.u),e.u=null),Di(e),e.i.cancel(),e.m&&("number"===typeof e.m&&qe.clearTimeout(e.m),e.m=null)}function Ei(e,t){e.l.push(new Fr(e.Za++,t)),3==e.G&&Si(e)}function Si(e){zr(e.i)||e.m||(e.m=!0,pn(e.Ha,e),e.C=0)}function xi(e,t){var n;n=t?t.m:e.V++;var r=yr(e.F);wr(r,"SID",e.J),wr(r,"RID",n),wr(r,"AID",e.U),Ti(e,r),e.o&&e.s&&yi(r,e.o,e.s),n=new Qn(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=_i(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Kr(e.i,n),Zn(n,r,t)}function Ti(e,t){e.j&&cr({},(function(e,n){wr(t,n,e)}))}function _i(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ye(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var l=i[s].h,c=i[s].g;if(0>(l-=a))a=Math.max(0,i[s].h-100),u=!1;else try{$r(c,o,"req"+l+"_")}catch(fa){r&&r(c)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Ci(e){e.g||e.u||(e.Y=1,pn(e.Ga,e),e.A=0)}function Ii(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Fn(Ye(e.Ga,e),Oi(e,e.A)),e.A++,!0)}function Ni(e){null!=e.B&&(qe.clearTimeout(e.B),e.B=null)}function Ai(e){e.g=new Qn(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=yr(e.oa);wr(t,"RID","rpc"),wr(t,"SID",e.J),wr(t,"CI",e.N?"0":"1"),wr(t,"AID",e.U),Ti(e,t),wr(t,"TYPE","xmlhttp"),e.o&&e.s&&yi(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Er(yr(t)),n.s=null,n.U=!0,er(n,e)}function Di(e){null!=e.v&&(qe.clearTimeout(e.v),e.v=null)}function Pi(e,t){var n=null;if(e.g==t){Di(e),Ni(e),e.g=null;var r=2}else{if(!qr(e.i,t))return;n=t.D,Hr(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;an(r=Dn(),new Mn(r,n,t,i)),Si(e)}else Ci(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Br(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Fn(Ye(e.Ha,e,t),Oi(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ii(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Li(e,5);break;case 4:Li(e,10);break;case 3:Li(e,6);break;default:Li(e,2)}}function Oi(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Li(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ye(e.jb,e);n||(n=new vr("//www.google.com/images/cleardot.gif"),qe.location&&"http"==qe.location.protocol||gr(n,"https"),Er(n)),function(e,t){var n=new Cn;if(qe.Image){var r=new Image;r.onload=Je(Xr,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Je(Xr,n,r,"TestLoadImage: error",!1,t),r.onabort=Je(Xr,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Je(Xr,n,r,"TestLoadImage: timeout",!1,t),qe.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Rn(2);e.G=0,e.j&&e.j.va(t),Ri(e),wi(e)}function Ri(e){e.G=0,e.I=-1,e.j&&(0==Gr(e.i).length&&0==e.l.length||(e.i.i.length=0,at(e.l),e.l.length=0),e.j.ua())}function Mi(e,t,n){var r=function(e){return e instanceof vr?yr(e):new vr(e,void 0)}(n);if(""!=r.i)t&&mr(r,t+"."+r.i),kr(r,r.m);else{var i=qe.location;r=function(e,t,n,r){var i=new vr(null,void 0);return e&&gr(i,e),t&&mr(i,t),n&&kr(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&dt(e.aa,(function(e,t){wr(r,t,e)})),t=e.D,n=e.sa,t&&n&&wr(r,t,n),wr(r,"VER",e.ma),Ti(e,r),r}function Fi(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new ii(new Yr({ib:!0})):new ii(e.qa)).L=e.H,t}function Vi(){}function Ui(){if(bt&&!(10<=Number(Ot)))throw Error("Environmental error: no available transport.")}function ji(e,t){rn.call(this),this.g=new mi(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ot(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ot(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new qi(this)}function zi(e){Hn.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Bi(){Gn.call(this),this.status=1}function qi(e){this.g=e}(Ue=ii.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qn.g(),this.C=this.u?zn(this.u):zn(qn),this.g.onreadystatechange=Ye(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void li(this,a)}e=n||"";var i=new fr(this.headers);r&&cr(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=si,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=qe.FormData&&e instanceof qe.FormData,!(0<=nt(ui,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{di(this),0<this.B&&((this.K=function(e){return bt&&Dt()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ye(this.pa,this)):this.A=bn(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){li(this,a)}},Ue.pa=function(){"undefined"!=typeof Be&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,an(this,"timeout"),this.abort(8))},Ue.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,an(this,"complete"),an(this,"abort"),hi(this))},Ue.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hi(this,!0)),ii.Z.M.call(this)},Ue.Fa=function(){this.s||(this.F||this.v||this.l?fi(this):this.cb())},Ue.cb=function(){fi(this)},Ue.ba=function(){try{return 2<pi(this)?this.g.status:-1}catch(Ur){return-1}},Ue.ga=function(){try{return this.g?this.g.responseText:""}catch(Ur){return""}},Ue.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ri(t)}},Ue.Da=function(){return this.m},Ue.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ue=mi.prototype).ma=8,Ue.G=1,Ue.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Ue.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Qn(this,this.h,e,void 0),n=this.s;if(this.P&&(n?yt(n=pt(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=_i(this,t,r),wr(i=yr(this.F),"RID",e),wr(i,"CVER",22),this.D&&wr(i,"X-HTTP-Session-Id",this.D),Ti(this,i),this.o&&n&&yi(i,this.o,n),Kr(this.i,t),this.Ra&&wr(i,"TYPE","init"),this.ja?(wr(i,"$req",r),wr(i,"SID","null"),t.$=!0,Zn(t,i,null)):Zn(t,i,r),this.G=2}}else 3==this.G&&(e?xi(this,e):0==this.l.length||zr(this.i)||xi(this))},Ue.Ga=function(){if(this.u=null,Ai(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Fn(Ye(this.bb,this),e)}},Ue.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Rn(10),bi(this),Ai(this))},Ue.ab=function(){null!=this.v&&(this.v=null,bi(this),Ii(this),Rn(19))},Ue.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Rn(2)):(this.h.info("Failed to ping google.com"),Rn(1))},(Ue=Vi.prototype).xa=function(){},Ue.wa=function(){},Ue.va=function(){},Ue.ua=function(){},Ue.Oa=function(){},Ui.prototype.g=function(e,t){return new ji(e,t)},Ze(ji,rn),ji.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),pn(Ye(e.hb,e,t))),Rn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Mi(e,null,e.W),Si(e)},ji.prototype.close=function(){ki(this.g)},ji.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Ei(this.g,t)}else this.v?((t={}).__data__=un(e),Ei(this.g,t)):Ei(this.g,e)},ji.prototype.M=function(){this.g.j=null,delete this.j,ki(this.g),delete this.g,ji.Z.M.call(this)},Ze(zi,Hn),Ze(Bi,Gn),Ze(qi,Vi),qi.prototype.xa=function(){an(this.g,"a")},qi.prototype.wa=function(e){an(this.g,new zi(e))},qi.prototype.va=function(e){an(this.g,new Bi(e))},qi.prototype.ua=function(){an(this.g,"b")},Ui.prototype.createWebChannel=Ui.prototype.g,ji.prototype.send=ji.prototype.u,ji.prototype.open=ji.prototype.m,ji.prototype.close=ji.prototype.close,Vn.NO_ERROR=0,Vn.TIMEOUT=8,Vn.HTTP_ERROR=6,Un.COMPLETE="complete",Bn.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",rn.prototype.listen=rn.prototype.N,ii.prototype.listenOnce=ii.prototype.O,ii.prototype.getLastError=ii.prototype.La,ii.prototype.getLastErrorCode=ii.prototype.Da,ii.prototype.getStatus=ii.prototype.ba,ii.prototype.getResponseJson=ii.prototype.Qa,ii.prototype.getResponseText=ii.prototype.ga,ii.prototype.send=ii.prototype.ea;var Ki=ze.createWebChannelTransport=function(){return new Ui},Hi=ze.getStatEventTarget=function(){return Dn()},Gi=ze.ErrorCode=Vn,Wi=ze.EventType=Un,Qi=ze.Event=Nn,$i=ze.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Xi=ze.FetchXmlHttpFactory=Yr,Yi=ze.WebChannel=Bn,Ji=ze.XhrIo=ii,Zi="@firebase/firestore",ea=function(){function e(t){r(this,e),this.uid=t}return a(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();ea.UNAUTHENTICATED=new ea(null),ea.GOOGLE_CREDENTIALS=new ea("google-credentials-uid"),ea.FIRST_PARTY=new ea("first-party-uid"),ea.MOCK_USER=new ea("mock-user");var ta="9.6.7",na=new te("@firebase/firestore");function ra(){return na.logLevel}function ia(e){if(na.logLevel<=Q.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ua);na.debug.apply(na,["Firestore (".concat(ta,"): ").concat(e)].concat(E(i)))}}function aa(e){if(na.logLevel<=Q.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ua);na.error.apply(na,["Firestore (".concat(ta,"): ").concat(e)].concat(E(i)))}}function oa(e){if(na.logLevel<=Q.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(ua);na.warn.apply(na,["Firestore (".concat(ta,"): ").concat(e)].concat(E(i)))}}function ua(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ta,") INTERNAL ASSERTION FAILED: ")+e;throw aa(t),new Error(t)}function la(e,t){e||sa()}function ca(e,t){return e}var fa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ha=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,i)).code=e,a.message=i,a.toString=function(){return"".concat(a.name,": [code=").concat(a.code,"]: ").concat(a.message)},a}return a(n)}(F),da=a((function e(){var t=this;r(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),pa=a((function e(t,n){r(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),va=function(){function e(){r(this,e)}return a(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ea.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ya=function(){function e(t){r(this,e),this.t=t,this.currentUser=ea.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return a(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new da;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new da,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(x(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){ia("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(ia("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new da)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ia("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(la("string"==typeof n.accessToken),new pa(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return la(null===e||"string"==typeof e),new ea(e)}}]),e}(),ga=a((function e(t,n,i){r(this,e),this.type="FirstParty",this.user=ea.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var a=t.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)})),ma=function(){function e(t,n,i){r(this,e),this.h=t,this.l=n,this.m=i}return a(e,[{key:"getToken",value:function(){return Promise.resolve(new ga(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(ea.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),ka=a((function e(t){r(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),ba=function(){function e(t){r(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return a(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ia("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,ia("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ia("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):ia("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(la("string"==typeof t.token),e.p=t.token,new ka(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),wa=function(){function e(t,n){var i=this;r(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return i.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return a(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Ea(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}wa.A=-1;var Sa=function(){function e(){r(this,e)}return a(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ea(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function xa(e,t){return e<t?-1:e>t?1:0}function Ta(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var _a=function(){function e(t,n){if(r(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ha(fa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ha(fa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ha(fa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ha(fa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return a(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?xa(this.nanoseconds,e.nanoseconds):xa(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Ca=function(){function e(t){r(this,e),this.timestamp=t}return a(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new _a(0,0))}}]),e}();function Ia(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Na(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Aa(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Da=function(){function e(t,n,i){r(this,e),void 0===n?n=0:n>t.length&&sa(),void 0===i?i=t.length-n:i>t.length-n&&sa(),this.segments=t,this.offset=n,this.len=i}return a(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Pa=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new ha(fa.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,E(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Da),Oa=/^[_a-zA-Z][_a-zA-Z0-9]*$/,La=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Oa.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ha(fa.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new ha(fa.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new ha(fa.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new ha(fa.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Da),Ra=function(){function e(t){r(this,e),this.fields=t,t.sort(La.comparator)}return a(e,[{key:"covers",value:function(e){var t,n=T(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ta(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Ma=function(e){function t(e){r(this,t),this.binaryString=e}return a(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return xa(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ma.EMPTY_BYTE_STRING=new Ma("");var Fa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(e){if(la(!!e),"string"==typeof e){var t=0,n=Fa.exec(e);if(la(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ua(e.seconds),nanos:Ua(e.nanos)}}function Ua(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ja(e){return"string"==typeof e?Ma.fromBase64String(e):Ma.fromUint8Array(e)}function za(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ba(e){var t=e.mapValue.fields.__previous_value__;return za(t)?Ba(t):t}function qa(e){var t=Va(e.mapValue.fields.__local_write_time__.timestampValue);return new _a(t.seconds,t.nanos)}var Ka=a((function e(t,n,i,a,o,u,s,l){r(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=s,this.useFetchStreams=l})),Ha=function(){function e(t,n){r(this,e),this.projectId=t,this.database=n||"(default)"}return a(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Ga(e){return null==e}function Wa(e){return 0===e&&1/e==-1/0}function Qa(e){return"number"==typeof e&&Number.isInteger(e)&&!Wa(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var $a=function(){function e(t){r(this,e),this.path=t}return a(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Pa.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Pa.fromString(t))}},{key:"fromName",value:function(t){return new e(Pa.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Pa.emptyPath())}},{key:"comparator",value:function(e,t){return Pa.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Pa(t.slice()))}}]),e}(),Xa={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function Ya(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?za(e)?4:10:sa()}function Ja(e,t){if(e===t)return!0;var n=Ya(e);if(n!==Ya(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qa(e).isEqual(qa(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Va(e.timestampValue),r=Va(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ja(e.bytesValue).isEqual(ja(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ua(e.geoPointValue.latitude)===Ua(t.geoPointValue.latitude)&&Ua(e.geoPointValue.longitude)===Ua(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ua(e.integerValue)===Ua(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Ua(e.doubleValue),r=Ua(t.doubleValue);return n===r?Wa(n)===Wa(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ta(e.arrayValue.values||[],t.arrayValue.values||[],Ja);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ia(n)!==Ia(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ja(n[i],r[i])))return!1;return!0}(e,t);default:return sa()}}function Za(e,t){return void 0!==(e.values||[]).find((function(e){return Ja(e,t)}))}function eo(e,t){if(e===t)return 0;var n=Ya(e),r=Ya(t);if(n!==r)return xa(n,r);switch(n){case 0:return 0;case 1:return xa(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Ua(e.integerValue||e.doubleValue),r=Ua(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return to(e.timestampValue,t.timestampValue);case 4:return to(qa(e),qa(t));case 5:return xa(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ja(e),r=ja(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=xa(n[i],r[i]);if(0!==a)return a}return xa(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=xa(Ua(e.latitude),Ua(t.latitude));return 0!==n?n:xa(Ua(e.longitude),Ua(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=eo(n[i],r[i]);if(a)return a}return xa(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=xa(r[o],a[o]);if(0!==u)return u;var s=eo(n[r[o]],i[a[o]]);if(0!==s)return s}return xa(r.length,a.length)}(e.mapValue,t.mapValue);default:throw sa()}}function to(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return xa(e,t);var n=Va(e),r=Va(t),i=xa(n.seconds,r.seconds);return 0!==i?i:xa(n.nanos,r.nanos)}function no(e){return ro(e)}function ro(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Va(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ja(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,$a.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=T(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ro(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=T(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ro(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):sa();var t,n}function io(e){return!!e&&"integerValue"in e}function ao(e){return!!e&&"arrayValue"in e}function oo(e){return!!e&&"nullValue"in e}function uo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function so(e){return!!e&&"mapValue"in e}function lo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Na(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=lo(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=lo(e.arrayValue.values[r]);return n}return Object.assign({},e)}var co=function(){function e(t){r(this,e),this.value=t}return a(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!so(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lo(t)}},{key:"setAll",value:function(e){var t=this,n=La.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=lo(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());so(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Ja(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];so(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Na(t,(function(t,n){return e[t]=n}));var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(lo(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function fo(e){var t=[];return Na(e.fields,(function(e,n){var r=new La([e]);if(so(n)){var i=fo(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=T(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Ra(t)}var ho=function(){function e(t,n,i,a,o,u){r(this,e),this.key=t,this.documentType=n,this.version=i,this.readTime=a,this.data=o,this.documentState=u}return a(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=co.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=co.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Ca.min(),Ca.min(),co.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Ca.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Ca.min(),co.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Ca.min(),co.empty(),2)}}]),e}(),po=a((function e(t,n,i,a){r(this,e),this.indexId=t,this.collectionGroup=n,this.fields=i,this.indexState=a}));po.UNKNOWN_ID=-1;var vo=a((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;r(this,e),this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=u,this.endAt=s,this.P=null}));function yo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new vo(e,t,n,r,i,a,o)}function go(e){var t=ca(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+no(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ga(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return no(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return no(e)})).join(",")),t.P=n}return t.P}function mo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Do(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Ja(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Oo(e.startAt,t.startAt)&&Oo(e.endAt,t.endAt)}function ko(e){return $a.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var bo=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this)).field=e,o.op=i,o.value=a,o}return a(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(eo(t,this.value)):null!==t&&Ya(this.value)===Ya(t)&&this.V(eo(t,this.value))}},{key:"V",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return sa()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new wo(e,t,r):"array-contains"===t?new To(e,r):"in"===t?new _o(e,r):"not-in"===t?new Co(e,r):"array-contains-any"===t?new Io(e,r):new n(e,t,r)}},{key:"v",value:function(e,t,n){return"in"===t?new Eo(e,n):new So(e,n)}}]),n}(function(){return a((function e(){r(this,e)}))}()),wo=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this,e,i,a)).key=$a.fromName(a.referenceValue),o}return a(n,[{key:"matches",value:function(e){var t=$a.comparator(e.key,this.key);return this.V(t)}}]),n}(bo),Eo=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,"in",i)).keys=xo("in",i),a}return a(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(bo),So=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this,e,"not-in",i)).keys=xo("not-in",i),a}return a(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(bo);function xo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return $a.fromName(e.referenceValue)}))}var To=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"array-contains",i)}return a(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ao(t)&&Za(t.arrayValue,this.value)}}]),n}(bo),_o=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"in",i)}return a(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Za(this.value.arrayValue,t)}}]),n}(bo),Co=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"not-in",i)}return a(n,[{key:"matches",value:function(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Za(this.value.arrayValue,t)}}]),n}(bo),Io=function(e){u(n,e);var t=d(n);function n(e,i){return r(this,n),t.call(this,e,"array-contains-any",i)}return a(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ao(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Za(t.value.arrayValue,e)}))}}]),n}(bo),No=a((function e(t,n){r(this,e),this.position=t,this.inclusive=n})),Ao=a((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";r(this,e),this.field=t,this.dir=n}));function Do(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Po(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?$a.comparator($a.fromName(o.referenceValue),n.key):eo(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Oo(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Ja(e.position[n],t.position[n]))return!1;return!0}var Lo=a((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;r(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=u,this.startAt=s,this.endAt=l,this.D=null,this.C=null,this.startAt,this.endAt}));function Ro(e,t,n,r,i,a,o,u){return new Lo(e,t,n,r,i,a,o,u)}function Mo(e){return new Lo(e)}function Fo(e){return!Ga(e.limit)&&"F"===e.limitType}function Vo(e){return!Ga(e.limit)&&"L"===e.limitType}function Uo(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function jo(e){var t,n=T(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function zo(e){return null!==e.collectionGroup}function Bo(e){var t=ca(e);if(null===t.D){t.D=[];var n=jo(t),r=Uo(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Ao(n)),t.D.push(new Ao(La.keyField(),"asc"));else{var i,a=!1,o=T(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Ao(La.keyField(),s))}}}return t.D}function qo(e){var t=ca(e);if(!t.C)if("F"===t.limitType)t.C=yo(t.path,t.collectionGroup,Bo(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=T(Bo(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ao(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var u=t.endAt?new No(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new No(t.startAt.position,!t.startAt.inclusive):null;t.C=yo(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Ko(e,t,n){return new Lo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ho(e,t){return mo(qo(e),qo(t))&&e.limitType===t.limitType}function Go(e){return"".concat(go(qo(e)),"|lt:").concat(e.limitType)}function Wo(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(no(t.value));var t})).join(", "),"]")),Ga(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return no(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return no(e)})).join(",")),"Target(".concat(t,")")}(qo(e)),"; limitType=").concat(e.limitType,")")}function Qo(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):$a.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=T(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=T(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Po(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Bo(e),t))&&!(e.endAt&&!function(e,t,n){var r=Po(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Bo(e),t))}(e,t)}function $o(e){return function(t,n){var r,i=!1,a=T(Bo(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Xo(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Xo(e,t,n){var r=e.field.isKeyField()?$a.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?eo(r,i):sa()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return sa()}}function Yo(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wa(t)?"-0":t}}function Jo(e){return{integerValue:""+e}}function Zo(e,t){return Qa(t)?Jo(t):Yo(e,t)}var eu=a((function e(){r(this,e),this._=void 0}));function tu(e,t,n){return e instanceof iu?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof au?ou(e,t):e instanceof uu?su(e,t):function(e,t){var n=ru(e,t),r=cu(n)+cu(e.k);return io(n)&&io(e.k)?Jo(r):Yo(e.O,r)}(e,t)}function nu(e,t,n){return e instanceof au?ou(e,t):e instanceof uu?su(e,t):n}function ru(e,t){return e instanceof lu?io(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var iu=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n)}(eu),au=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).elements=e,i}return a(n)}(eu);function ou(e,t){var n,r=fu(t),i=T(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Ja(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var uu=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).elements=e,i}return a(n)}(eu);function su(e,t){var n,r=fu(t),i=T(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Ja(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var lu=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).O=e,a.k=i,a}return a(n)}(eu);function cu(e){return Ua(e.integerValue||e.doubleValue)}function fu(e){return ao(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var hu=a((function e(t,n){r(this,e),this.version=t,this.transformResults=n})),du=function(){function e(t,n){r(this,e),this.updateTime=t,this.exists=n}return a(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function pu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var vu=a((function e(){r(this,e)}));function yu(e,t,n){e instanceof wu?function(e,t,n){var r=e.value.clone(),i=xu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Eu?function(e,t,n){if(pu(e.precondition,t)){var r=xu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Su(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function gu(e,t,n){e instanceof wu?function(e,t,n){if(pu(e.precondition,t)){var r=e.value.clone(),i=Tu(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(bu(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Eu?function(e,t,n){if(pu(e.precondition,t)){var r=Tu(e.fieldTransforms,n,t),i=t.data;i.setAll(Su(e)),i.setAll(r),t.convertToFoundDocument(bu(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){pu(e.precondition,t)&&t.convertToNoDocument(Ca.min())}(e,t)}function mu(e,t){var n,r=null,i=T(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=ru(a.transform,o||null);null!=u&&(null==r&&(r=co.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function ku(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ta(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof au&&t instanceof au||e instanceof uu&&t instanceof uu?Ta(e.elements,t.elements,Ja):e instanceof lu&&t instanceof lu?Ja(e.k,t.k):e instanceof iu&&t instanceof iu}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function bu(e){return e.isFoundDocument()?e.version:Ca.min()}var wu=function(e){u(n,e);var t=d(n);function n(e,i,a){var o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return r(this,n),(o=t.call(this)).key=e,o.value=i,o.precondition=a,o.fieldTransforms=u,o.type=0,o}return a(n)}(vu),Eu=function(e){u(n,e);var t=d(n);function n(e,i,a,o){var u,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return r(this,n),(u=t.call(this)).key=e,u.data=i,u.fieldMask=a,u.precondition=o,u.fieldTransforms=s,u.type=1,u}return a(n)}(vu);function Su(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function xu(e,t,n){var r=new Map;la(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,nu(o,u,n[i]))}return r}function Tu(e,t,n){var r,i=new Map,a=T(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,tu(u,s,t))}}catch(l){a.e(l)}finally{a.f()}return i}var _u,Cu,Iu=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).key=e,a.precondition=i,a.type=2,a.fieldTransforms=[],a}return a(n)}(vu),Nu=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).key=e,a.precondition=i,a.type=3,a.fieldTransforms=[],a}return a(n)}(vu),Au=a((function e(t){r(this,e),this.count=t}));function Du(e){switch(e){default:return sa();case fa.CANCELLED:case fa.UNKNOWN:case fa.DEADLINE_EXCEEDED:case fa.RESOURCE_EXHAUSTED:case fa.INTERNAL:case fa.UNAVAILABLE:case fa.UNAUTHENTICATED:return!1;case fa.INVALID_ARGUMENT:case fa.NOT_FOUND:case fa.ALREADY_EXISTS:case fa.PERMISSION_DENIED:case fa.FAILED_PRECONDITION:case fa.ABORTED:case fa.OUT_OF_RANGE:case fa.UNIMPLEMENTED:case fa.DATA_LOSS:return!0}}function Pu(e){if(void 0===e)return aa("GRPC error has no .code"),fa.UNKNOWN;switch(e){case _u.OK:return fa.OK;case _u.CANCELLED:return fa.CANCELLED;case _u.UNKNOWN:return fa.UNKNOWN;case _u.DEADLINE_EXCEEDED:return fa.DEADLINE_EXCEEDED;case _u.RESOURCE_EXHAUSTED:return fa.RESOURCE_EXHAUSTED;case _u.INTERNAL:return fa.INTERNAL;case _u.UNAVAILABLE:return fa.UNAVAILABLE;case _u.UNAUTHENTICATED:return fa.UNAUTHENTICATED;case _u.INVALID_ARGUMENT:return fa.INVALID_ARGUMENT;case _u.NOT_FOUND:return fa.NOT_FOUND;case _u.ALREADY_EXISTS:return fa.ALREADY_EXISTS;case _u.PERMISSION_DENIED:return fa.PERMISSION_DENIED;case _u.FAILED_PRECONDITION:return fa.FAILED_PRECONDITION;case _u.ABORTED:return fa.ABORTED;case _u.OUT_OF_RANGE:return fa.OUT_OF_RANGE;case _u.UNIMPLEMENTED:return fa.UNIMPLEMENTED;case _u.DATA_LOSS:return fa.DATA_LOSS;default:return sa()}}(Cu=_u||(_u={}))[Cu.OK=0]="OK",Cu[Cu.CANCELLED=1]="CANCELLED",Cu[Cu.UNKNOWN=2]="UNKNOWN",Cu[Cu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cu[Cu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cu[Cu.NOT_FOUND=5]="NOT_FOUND",Cu[Cu.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cu[Cu.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cu[Cu.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cu[Cu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cu[Cu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cu[Cu.ABORTED=10]="ABORTED",Cu[Cu.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cu[Cu.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cu[Cu.INTERNAL=13]="INTERNAL",Cu[Cu.UNAVAILABLE=14]="UNAVAILABLE",Cu[Cu.DATA_LOSS=15]="DATA_LOSS";var Ou=function(){function e(t,n){r(this,e),this.comparator=t,this.root=n||Ru.EMPTY}return a(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ru.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ru.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Lu(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Lu(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Lu(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Lu(this.root,e,this.comparator,!0)}}]),e}(),Lu=function(){function e(t,n,i,a){r(this,e),this.isReverse=a,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?i(t.key,n):1,a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return a(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Ru=function(){function e(t,n,i,a,o){r(this,e),this.key=t,this.value=n,this.color=null!=i?i:e.RED,this.left=null!=a?a:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return a(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw sa();if(this.right.isRed())throw sa();var e=this.left.check();if(e!==this.right.check())throw sa();return e+(this.isRed()?0:1)}}]),e}();Ru.EMPTY=null,Ru.RED=!0,Ru.BLACK=!1,Ru.EMPTY=new(function(){function e(){r(this,e),this.size=0}return a(e,[{key:"key",get:function(){throw sa()}},{key:"value",get:function(){throw sa()}},{key:"color",get:function(){throw sa()}},{key:"left",get:function(){throw sa()}},{key:"right",get:function(){throw sa()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ru(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Mu=function(){function e(t){r(this,e),this.comparator=t,this.data=new Ou(this.comparator)}return a(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Fu(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Fu(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Fu=function(){function e(t){r(this,e),this.iter=t}return a(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Vu=new Ou($a.comparator);function Uu(){return Vu}var ju=new Ou($a.comparator);function zu(){return ju}var Bu=new Ou($a.comparator),qu=new Mu($a.comparator);function Ku(){for(var e=qu,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Hu=new Mu(xa);function Gu(){return Hu}var Wu=function(){function e(t,n,i,a,o){r(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}return a(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Qu.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ca.min(),r,Gu(),Uu(),Ku())}}]),e}(),Qu=function(){function e(t,n,i,a,o){r(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}return a(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Ma.EMPTY_BYTE_STRING,n,Ku(),Ku(),Ku())}}]),e}(),$u=a((function e(t,n,i,a){r(this,e),this.M=t,this.removedTargetIds=n,this.key=i,this.$=a})),Xu=a((function e(t,n){r(this,e),this.targetId=t,this.F=n})),Yu=a((function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ma.EMPTY_BYTE_STRING,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r(this,e),this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=a})),Ju=function(){function e(){r(this,e),this.B=0,this.L=ts(),this.U=Ma.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return a(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Ku(),t=Ku(),n=Ku();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:sa()}})),new Qu(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=ts()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Zu=function(){function e(t){r(this,e),this.nt=t,this.st=new Map,this.it=Uu(),this.rt=es(),this.ot=new Mu(xa)}return a(e,[{key:"ct",value:function(e){var t,n=T(e.M);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.at(r,e.key,e.$)}}catch(u){n.e(u)}finally{n.f()}var i,a=T(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.$)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:sa()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(ko(i))if(0===n){var a=new $a(i.path);this.at(t,a,ho.newNoDocument(a,Ca.min()))}else la(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&ko(a.target)){var o=new $a(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.at(i,o,ho.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Ku();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Wu(e,n,this.ot,this.it,r);return this.it=Uu(),this.rt=es(),this.ot=new Mu(xa),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Ju,this.st.set(e,t)),t}},{key:"Et",value:function(e){var t=this.rt.get(e);return t||(t=new Mu(xa),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||ia("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Ju),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function es(){return new Ou($a.comparator)}function ts(){return new Ou($a.comparator)}var ns={asc:"ASCENDING",desc:"DESCENDING"},rs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},is=a((function e(t,n){r(this,e),this.databaseId=t,this.N=n}));function as(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function os(e,t){return e.N?t.toBase64():t.toUint8Array()}function us(e,t){return as(e,t.toTimestamp())}function ss(e){return la(!!e),Ca.fromTimestamp(function(e){var t=Va(e);return new _a(t.seconds,t.nanos)}(e))}function ls(e,t){return function(e){return new Pa(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function cs(e){var t=Pa.fromString(e);return la(As(t)),t}function fs(e,t){return ls(e.databaseId,t.path)}function hs(e,t){var n=cs(t);if(n.get(1)!==e.databaseId.projectId)throw new ha(fa.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ha(fa.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $a(ys(n))}function ds(e,t){return ls(e.databaseId,t)}function ps(e){var t=cs(e);return 4===t.length?Pa.emptyPath():ys(t)}function vs(e){return new Pa(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ys(e){return la(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gs(e,t,n){return{name:fs(e,t),fields:n.value.mapValue.fields}}function ms(e,t){var n;if(t instanceof wu)n={update:gs(e,t.key,t.value)};else if(t instanceof Iu)n={delete:fs(e,t.key)};else if(t instanceof Eu)n={update:gs(e,t.key,t.data),updateMask:Ns(t.fieldMask)};else{if(!(t instanceof Nu))return sa();n={verify:fs(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof iu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof au)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof uu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lu)return{fieldPath:t.field.canonicalString(),increment:n.k};throw sa()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:us(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:sa()}(e,t.precondition)),n}function ks(e,t){return{documents:[ds(e,t.path)]}}function bs(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ds(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ds(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(uo(e.value))return{unaryFilter:{field:Ts(e.field),op:"IS_NAN"}};if(oo(e.value))return{unaryFilter:{field:Ts(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(uo(e.value))return{unaryFilter:{field:Ts(e.field),op:"IS_NOT_NAN"}};if(oo(e.value))return{unaryFilter:{field:Ts(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ts(e.field),op:xs(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ts(e.field),direction:Ss(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Ga(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ws(e){var t=ps(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){la(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Es(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Ao(_s(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ga(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new No(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new No(n,t)}(n.endAt)),Ro(t,i,u,o,s,"F",l,c)}function Es(e){return e?void 0!==e.unaryFilter?[Is(e)]:void 0!==e.fieldFilter?[Cs(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Es(e)})).reduce((function(e,t){return e.concat(t)})):sa():[]}function Ss(e){return ns[e]}function xs(e){return rs[e]}function Ts(e){return{fieldPath:e.canonicalString()}}function _s(e){return La.fromServerFormat(e.fieldPath)}function Cs(e){return bo.create(_s(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return sa()}}(e.fieldFilter.op),e.fieldFilter.value)}function Is(e){switch(e.unaryFilter.op){case"IS_NAN":var t=_s(e.unaryFilter.field);return bo.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=_s(e.unaryFilter.field);return bo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_s(e.unaryFilter.field);return bo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_s(e.unaryFilter.field);return bo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return sa()}}function Ns(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function As(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ds(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Os(t)),t=Ps(e.get(n),t);return Os(t)}function Ps(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Os(e){return e+"\x01\x01"}var Ls=a((function e(t,n,i){r(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=i}));Ls.store="owner",Ls.key="owner";var Rs=a((function e(t,n,i){r(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=i}));Rs.store="mutationQueues",Rs.keyPath="userId";var Ms=a((function e(t,n,i,a,o){r(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=i,this.baseMutations=a,this.mutations=o}));Ms.store="mutations",Ms.keyPath="batchId",Ms.userMutationsIndex="userMutationsIndex",Ms.userMutationsKeyPath=["userId","batchId"];var Fs=function(){function e(){r(this,e)}return a(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Ds(t)]}},{key:"key",value:function(e,t,n){return[e,Ds(t),n]}}]),e}();Fs.store="documentMutations",Fs.PLACEHOLDER=new Fs;var Vs=a((function e(t,n,i,a,o,u){r(this,e),this.unknownDocument=t,this.noDocument=n,this.document=i,this.hasCommittedMutations=a,this.readTime=o,this.parentPath=u}));Vs.store="remoteDocuments",Vs.readTimeIndex="readTimeIndex",Vs.readTimeIndexPath="readTime",Vs.collectionReadTimeIndex="collectionReadTimeIndex",Vs.collectionReadTimeIndexPath=["parentPath","readTime"];var Us=a((function e(t){r(this,e),this.byteSize=t}));Us.store="remoteDocumentGlobal",Us.key="remoteDocumentGlobalKey";var js=a((function e(t,n,i,a,o,u,s){r(this,e),this.targetId=t,this.canonicalId=n,this.readTime=i,this.resumeToken=a,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=s}));js.store="targets",js.keyPath="targetId",js.queryTargetsIndexName="queryTargetsIndex",js.queryTargetsKeyPath=["canonicalId","targetId"];var zs=a((function e(t,n,i){r(this,e),this.targetId=t,this.path=n,this.sequenceNumber=i}));zs.store="targetDocuments",zs.keyPath=["targetId","path"],zs.documentTargetsIndex="documentTargetsIndex",zs.documentTargetsKeyPath=["path","targetId"];var Bs=a((function e(t,n,i,a){r(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=i,this.targetCount=a}));Bs.key="targetGlobalKey",Bs.store="targetGlobal";var qs=a((function e(t,n){r(this,e),this.collectionId=t,this.parent=n}));qs.store="collectionParents",qs.keyPath=["collectionId","parent"];var Ks=a((function e(t,n,i,a){r(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=i,this.inForeground=a}));Ks.store="clientMetadata",Ks.keyPath="clientId";var Hs=a((function e(t,n,i){r(this,e),this.bundleId=t,this.createTime=n,this.version=i}));Hs.store="bundles",Hs.keyPath="bundleId";var Gs=a((function e(t,n,i){r(this,e),this.name=t,this.readTime=n,this.bundledQuery=i}));Gs.store="namedQueries",Gs.keyPath="name";var Ws=a((function e(t,n,i){r(this,e),this.indexId=t,this.collectionGroup=n,this.fields=i}));Ws.store="indexConfiguration",Ws.keyPath="indexId",Ws.collectionGroupIndex="collectionGroupIndex",Ws.collectionGroupIndexPath="collectionGroup";var Qs=a((function e(t,n,i,a,o,u){r(this,e),this.indexId=t,this.uid=n,this.sequenceNumber=i,this.readTime=a,this.documentKey=o,this.largestBatchId=u}));Qs.store="indexState",Qs.keyPath=["indexId","uid"],Qs.sequenceNumberIndex="sequenceNumberIndex",Qs.sequenceNumberIndexPath=["uid","sequenceNumber"];var $s=a((function e(t,n,i,a,o){r(this,e),this.indexId=t,this.uid=n,this.arrayValue=i,this.directionalValue=a,this.documentKey=o}));$s.store="indexEntries",$s.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],$s.documentKeyIndex="documentKeyIndex",$s.documentKeyIndexPath=["indexId","uid","documentKey"];var Xs=a((function e(t,n,i,a,o,u){r(this,e),this.userId=t,this.collectionPath=n,this.documentId=i,this.collectionGroup=a,this.largestBatchId=o,this.overlayMutation=u}));Xs.store="documentOverlays",Xs.keyPath=["userId","collectionPath","documentId"],Xs.collectionPathOverlayIndex="collectionPathOverlayIndex",Xs.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Xs.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Xs.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];var Ys=[Rs.store,Ms.store,Fs.store,Vs.store,js.store,Ls.store,Bs.store,zs.store].concat([Ks.store]).concat([Us.store]).concat([qs.store]).concat([Hs.store,Gs.store]),Js=[].concat(E(Ys),[Xs.store]),Zs=([].concat(E(Js),[Ws.store,Qs.store,$s.store]),"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."),el=function(){function e(){r(this,e),this.onCommittedListeners=[]}return a(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),tl=function(){function e(t){var n=this;r(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return a(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&sa(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=T(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}();function nl(e){return"IndexedDbTransactionError"===e.name}var rl=function(){function e(t,n,i,a){r(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}return a(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&yu(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=T(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&gu(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=T(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&gu(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ca.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ku())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,(function(e,t){return ku(e,t)}))&&Ta(this.baseMutations,e.baseMutations,(function(e,t){return ku(e,t)}))}}]),e}(),il=function(){function e(t,n,i,a){r(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}return a(e,null,[{key:"from",value:function(t,n,r){la(t.mutations.length===r.length);for(var i=Bu,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),al=function(){function e(t,n){r(this,e),this.largestBatchId=t,this.mutation=n}return a(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),ol=function(){function e(t,n,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ca.min(),u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ca.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ma.EMPTY_BYTE_STRING;r(this,e),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=s}return a(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),ul=a((function e(t){r(this,e),this.Ht=t}));function sl(e){var t=ws({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ko(t,t.limit,"L"):t}var ll=function(){function e(){r(this,e)}return a(e,[{key:"Xt",value:function(e,t){this.Zt(e,t),t.te()}},{key:"Zt",value:function(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(Ua(e.integerValue));else if("doubleValue"in e){var n=Ua(e.doubleValue);isNaN(n)?this.ee(t,13):(this.ee(t,15),Wa(n)?t.ne(0):t.ne(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se("".concat(r.seconds||"")),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(ja(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ee(t,45),t.ne(i.latitude||0),t.ne(i.longitude||0)}else"mapValue"in e?Ja(e,Xa)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):sa()}},{key:"ie",value:function(e,t){this.ee(t,25),this.he(e,t)}},{key:"he",value:function(e,t){t.se(e)}},{key:"ue",value:function(e,t){var n=e.fields||{};this.ee(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ie(a,t),this.Zt(n[a],t)}}},{key:"ae",value:function(e,t){var n=e.values||[];this.ee(t,50);var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Zt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ce",value:function(e,t){var n=this;this.ee(t,37),$a.fromName(e).path.forEach((function(e){n.ee(t,60),n.he(e,t)}))}},{key:"ee",value:function(e,t){e.ne(t)}},{key:"re",value:function(e){e.ne(2)}}]),e}();ll.le=new ll;var cl=function(){function e(){r(this,e),this.xe=new fl}return a(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.xe.add(t),tl.resolve()}},{key:"getCollectionParents",value:function(e,t){return tl.resolve(this.xe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return tl.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return tl.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return tl.resolve(Ku())}},{key:"getFieldIndex",value:function(e,t){return tl.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return tl.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return tl.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return tl.resolve()}},{key:"updateIndexEntries",value:function(e,t){return tl.resolve()}}]),e}(),fl=function(){function e(){r(this,e),this.index={}}return a(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Mu(Pa.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Mu(Pa.comparator)).toArray()}}]),e}();var hl=function(){function e(t,n,i){r(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return a(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();hl.DEFAULT_COLLECTION_PERCENTILE=10,hl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hl.DEFAULT=new hl(41943040,hl.DEFAULT_COLLECTION_PERCENTILE,hl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hl.DISABLED=new hl(-1,0,0);var dl=function(){function e(t){r(this,e),this.ze=t}return a(e,[{key:"next",value:function(){return this.ze+=2,this.ze}}],[{key:"He",value:function(){return new e(0)}},{key:"Je",value:function(){return new e(-1)}}]),e}();function pl(e){return vl.apply(this,arguments)}function vl(){return vl=x(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===fa.FAILED_PRECONDITION&&t.message===Zs){e.next=2;break}throw t;case 2:ia("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),vl.apply(this,arguments)}var yl=function(){function e(t,n){r(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return a(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=N(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Na(this.inner,(function(t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=N(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Aa(this.inner)}}]),e}(),gl=function(){function e(){r(this,e),this.changes=new yl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return a(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ho.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?tl.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var ml=function(){function e(t,n,i){r(this,e),this.qn=t,this.gs=n,this.indexManager=i}return a(e,[{key:"ys",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.ps(e,t,r)}))}},{key:"ps",value:function(e,t,n){return this.qn.getEntry(e,t).next((function(e){var t,r=T(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Is",value:function(e,t){e.forEach((function(e,n){var r,i=T(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Es",value:function(e,t){var n=this;return this.qn.getEntries(e,t).next((function(t){return n.Ts(e,t).next((function(){return t}))}))}},{key:"Ts",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Is(t,e)}))}},{key:"As",value:function(e,t,n){return function(e){return $a.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Rs(e,t.path):zo(t)?this.Ps(e,t,n):this.bs(e,t,n)}},{key:"Rs",value:function(e,t){return this.ys(e,new $a(t)).next((function(e){var t=zu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ps",value:function(e,t,n){var r=this,i=t.collectionGroup,a=zu();return this.indexManager.getCollectionParents(e,i).next((function(o){return tl.forEach(o,(function(o){var u=function(e,t){return new Lo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.bs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"bs",value:function(e,t,n){var r,i=this;return this.qn.getAll(e,t.path,n).next((function(n){return r=n,i.gs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=T(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,l=r.get(s);null==l&&(l=ho.newInvalidDocument(s),r=r.insert(s,l)),gu(u,l,a.localWriteTime),l.isFoundDocument()||(r=r.remove(s))}}catch(c){o.e(c)}finally{o.f()}}}catch(c){n.e(c)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Qo(t,n)||(r=r.remove(e))})),r}))}}]),e}(),kl=function(){function e(t,n,i,a){r(this,e),this.targetId=t,this.fromCache=n,this.vs=i,this.Vs=a}return a(e,null,[{key:"Ss",value:function(t,n){var r,i=Ku(),a=Ku(),o=T(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),bl=function(){function e(){r(this,e)}return a(e,[{key:"Ds",value:function(e){this.Cs=e}},{key:"As",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Ca.min())?this.Ns(e,t):this.Cs.Es(e,r).next((function(a){var o=i.xs(t,a);return(Fo(t)||Vo(t))&&i.ks(t.limitType,o,r,n)?i.Ns(e,t):(ra()<=Q.DEBUG&&ia("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Wo(t)),i.Cs.As(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"xs",value:function(e,t){var n=new Mu($o(e));return t.forEach((function(t,r){Qo(e,r)&&(n=n.add(r))})),n}},{key:"ks",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ns",value:function(e,t){return ra()<=Q.DEBUG&&ia("QueryEngine","Using full collection scan to execute query:",Wo(t)),this.Cs.As(e,t,Ca.min())}}]),e}(),wl=function(){function e(t,n,i,a){r(this,e),this.persistence=t,this.Os=n,this.O=a,this.Ms=new Ou(xa),this.$s=new yl((function(e){return go(e)}),mo),this.Fs=Ca.min(),this.Bs=t.getRemoteDocumentCache(),this.Un=t.getTargetCache(),this.Kn=t.getBundleCache(),this.Ls(i)}return a(e,[{key:"Ls",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new ml(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ms)}))}}]),e}();function El(e,t,n,r){return new wl(e,t,n,r)}function Sl(e,t){return xl.apply(this,arguments)}function xl(){return xl=x(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ca(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.gs.getAllMutationBatches(e).next((function(i){return t=i,r.Ls(n),r.gs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Ku(),s=T(t);try{for(s.s();!(i=s.n()).done;){var l=i.value;a.push(l.batchId);var c,f=T(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=T(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,g=T(v.mutations);try{for(g.s();!(y=g.n()).done;){var m=y.value;u=u.add(m.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return r.Us.Es(e,u).next((function(e){return{qs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),xl.apply(this,arguments)}function Tl(e,t){var n=ca(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=tl.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);la(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.gs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}function _l(e){var t=ca(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Un.getLastRemoteSnapshotVersion(e)}))}function Cl(e,t){var n=ca(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Un.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Un.addMatchingKeys(e,a.addedDocuments,u)})));var l=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?l=l.withResumeToken(Ma.EMPTY_BYTE_STRING,Ca.min()).withLastLimboFreeSnapshotVersion(Ca.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(u,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,l,a)&&o.push(n.Un.updateTargetData(e,l))}}));var u=Uu();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Il(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Ca.min())){var s=n.Un.getLastRemoteSnapshotVersion(e).next((function(t){return n.Un.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return tl.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Us.Ts(e,u)})).next((function(){return u}))})).then((function(e){return n.Ms=i,e}))}function Il(e,t,n){var r=Ku();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Uu();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Ca.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):ia("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Nl(e,t){var n=ca(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.gs.getNextMutationBatchAfterBatchId(e,t)}))}function Al(e,t){var n=ca(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Un.getTargetData(e,t).next((function(i){return i?(r=i,tl.resolve(r)):n.Un.allocateTargetId(e).next((function(i){return r=new ol(t,i,0,e.currentSequenceNumber),n.Un.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.$s.set(t,e.targetId)),e}))}function Dl(e,t,n){return Pl.apply(this,arguments)}function Pl(){return Pl=x(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ca(t),a=i.Ms.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),nl(e.t1)){e.next=12;break}throw e.t1;case 12:ia("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ms=i.Ms.remove(n),i.$s.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Pl.apply(this,arguments)}function Ol(e,t,n){var r=ca(e),i=Ca.min(),a=Ku();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ca(e),i=r.$s.get(n);return void 0!==i?tl.resolve(r.Ms.get(i)):r.Un.getTargetData(t,n)}(r,e,qo(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Os.As(e,t,n?i:Ca.min(),n?a:Ku())})).next((function(e){return{documents:e,Ks:a}}))}))}var Ll=function(){function e(t){r(this,e),this.O=t,this.Ws=new Map,this.zs=new Map}return a(e,[{key:"getBundleMetadata",value:function(e,t){return tl.resolve(this.Ws.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Ws.set(t.id,{id:(n=t).id,version:n.version,createTime:ss(n.createTime)}),tl.resolve()}},{key:"getNamedQuery",value:function(e,t){return tl.resolve(this.zs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.zs.set(t.name,function(e){return{name:e.name,query:sl(e.bundledQuery),readTime:ss(e.readTime)}}(t)),tl.resolve()}}]),e}(),Rl=function(){function e(){r(this,e),this.overlays=new Ou($a.comparator),this.Hs=new Map}return a(e,[{key:"getOverlay",value:function(e,t){return tl.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n){r.Yt(e,t,n)})),tl.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Hs.delete(n)),tl.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=new Map,i=t.length+1,a=new $a(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return tl.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Ou((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=new Map,i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=new Map,l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return s.set(t,e)})),!(s.size>=r)););return tl.resolve(s)}},{key:"Yt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);null!==r&&this.Hs.get(r.largestBatchId).delete(n.key),this.overlays=this.overlays.insert(n.key,new al(t,n));var i=this.Hs.get(t);void 0===i&&(i=new Set,this.Hs.set(t,i)),i.add(n.key)}}}]),e}(),Ml=function(){function e(){r(this,e),this.Js=new Mu(Fl.Ys),this.Xs=new Mu(Fl.Zs)}return a(e,[{key:"isEmpty",value:function(){return this.Js.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Fl(e,t);this.Js=this.Js.add(n),this.Xs=this.Xs.add(n)}},{key:"ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ei(new Fl(e,t))}},{key:"ni",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"si",value:function(e){var t=this,n=new $a(new Pa([])),r=new Fl(n,e),i=new Fl(n,e+1),a=[];return this.Xs.forEachInRange([r,i],(function(e){t.ei(e),a.push(e.key)})),a}},{key:"ii",value:function(){var e=this;this.Js.forEach((function(t){return e.ei(t)}))}},{key:"ei",value:function(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}},{key:"ri",value:function(e){var t=new $a(new Pa([])),n=new Fl(t,e),r=new Fl(t,e+1),i=Ku();return this.Xs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Fl(e,0),n=this.Js.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Fl=function(){function e(t,n){r(this,e),this.key=t,this.oi=n}return a(e,null,[{key:"Ys",value:function(e,t){return $a.comparator(e.key,t.key)||xa(e.oi,t.oi)}},{key:"Zs",value:function(e,t){return xa(e.oi,t.oi)||$a.comparator(e.key,t.key)}}]),e}(),Vl=function(){function e(t,n){r(this,e),this.indexManager=t,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new Mu(Fl.Ys)}return a(e,[{key:"checkEmpty",value:function(e){return tl.resolve(0===this.gs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];var a=new rl(i,t,n,r);this.gs.push(a);var o,u=T(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ui=this.ui.add(new Fl(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(l){u.e(l)}finally{u.f()}return tl.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return tl.resolve(this.ai(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.hi(n),i=r<0?0:r;return tl.resolve(this.gs.length>i?this.gs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return tl.resolve(0===this.gs.length?-1:this.ci-1)}},{key:"getAllMutationBatches",value:function(e){return tl.resolve(this.gs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Fl(t,0),i=new Fl(t,Number.POSITIVE_INFINITY),a=[];return this.ui.forEachInRange([r,i],(function(e){var t=n.ai(e.oi);a.push(t)})),tl.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Mu(xa);return t.forEach((function(e){var t=new Fl(e,0),i=new Fl(e,Number.POSITIVE_INFINITY);n.ui.forEachInRange([t,i],(function(e){r=r.add(e.oi)}))})),tl.resolve(this.li(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;$a.isDocumentKey(i)||(i=i.child(""));var a=new Fl(new $a(i),0),o=new Mu(xa);return this.ui.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.oi)),!0)}),a),tl.resolve(this.li(o))}},{key:"li",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ai(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;la(0===this.fi(t.batchId,"removed")),this.gs.shift();var r=this.ui;return tl.forEach(t.mutations,(function(i){var a=new Fl(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ui=r}))}},{key:"Qe",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Fl(t,0),r=this.ui.firstAfterOrEqual(n);return tl.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.gs.length,tl.resolve()}},{key:"fi",value:function(e,t){return this.hi(e)}},{key:"hi",value:function(e){return 0===this.gs.length?0:e-this.gs[0].batchId}},{key:"ai",value:function(e){var t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}]),e}(),Ul=function(){function e(t){r(this,e),this.di=t,this.docs=new Ou($a.comparator),this.size=0}return a(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.di(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return tl.resolve(n?n.document.mutableCopy():ho.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Uu();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ho.newInvalidDocument(e))})),tl.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=Uu(),i=new $a(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||s.readTime.compareTo(n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return tl.resolve(r)}},{key:"_i",value:function(e,t){return tl.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new jl(this)}},{key:"getSize",value:function(e){return tl.resolve(this.size)}}]),e}(),jl=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).Tn=e,i}return a(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Tn.addEntry(e,i)):t.Tn.removeEntry(r)})),tl.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Tn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Tn.getEntries(e,t)}}]),n}(gl),zl=function(){function e(t){r(this,e),this.persistence=t,this.wi=new yl((function(e){return go(e)}),mo),this.lastRemoteSnapshotVersion=Ca.min(),this.highestTargetId=0,this.mi=0,this.gi=new Ml,this.targetCount=0,this.yi=dl.He()}return a(e,[{key:"forEachTarget",value:function(e,t){return this.wi.forEach((function(e,n){return t(n)})),tl.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return tl.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return tl.resolve(this.mi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.yi.next(),tl.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.mi&&(this.mi=t),tl.resolve()}},{key:"Ze",value:function(e){this.wi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.yi=new dl(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ze(t),this.targetCount+=1,tl.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ze(t),tl.resolve()}},{key:"removeTargetData",value:function(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,tl.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.wi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.wi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),tl.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return tl.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.wi.get(t)||null;return tl.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.gi.ti(t,n),tl.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.gi.ni(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),tl.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.gi.si(t),tl.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.gi.ri(t);return tl.resolve(n)}},{key:"containsKey",value:function(e,t){return tl.resolve(this.gi.containsKey(t))}}]),e}(),Bl=function(){function e(t,n){var i=this;r(this,e),this.pi={},this.overlays={},this.Nn=new wa(0),this.xn=!1,this.xn=!0,this.referenceDelegate=t(this),this.Un=new zl(this),this.indexManager=new cl,this.qn=new Ul((function(e){return i.referenceDelegate.Ii(e)})),this.O=new ul(n),this.Kn=new Ll(this.O)}return a(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xn=!1,Promise.resolve()}},{key:"started",get:function(){return this.xn}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Rl,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.pi[e.toKey()];return n||(n=new Vl(t,this.referenceDelegate),this.pi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;ia("MemoryPersistence","Starting transaction:",e);var i=new ql(this.Nn.next());return this.referenceDelegate.Ei(),n(i).next((function(e){return r.referenceDelegate.Ti(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ai",value:function(e,t){return tl.or(Object.values(this.pi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ql=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).currentSequenceNumber=e,i}return a(n)}(el),Kl=function(){function e(t){r(this,e),this.persistence=t,this.Ri=new Ml,this.Pi=null}return a(e,[{key:"vi",get:function(){if(this.Pi)return this.Pi;throw sa()}},{key:"addReference",value:function(e,t,n){return this.Ri.addReference(n,t),this.vi.delete(n.toString()),tl.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ri.removeReference(n,t),this.vi.add(n.toString()),tl.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.vi.add(t.toString()),tl.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ri.si(t.targetId).forEach((function(e){return n.vi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ei",value:function(){this.Pi=new Set}},{key:"Ti",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tl.forEach(this.vi,(function(r){var i=$a.fromPath(r);return t.Vi(e,i).next((function(e){e||n.removeEntry(i,Ca.min())}))})).next((function(){return t.Pi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Vi(e,t).next((function(e){e?n.vi.delete(t.toString()):n.vi.add(t.toString())}))}},{key:"Ii",value:function(e){return 0}},{key:"Vi",value:function(e,t){var n=this;return tl.or([function(){return tl.resolve(n.Ri.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ai(e,t)}])}}],[{key:"bi",value:function(t){return new e(t)}}]),e}();var Hl=function(){function e(){r(this,e),this.activeTargetIds=Gu()}return a(e,[{key:"Ci",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ni",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Di",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Gl=function(){function e(){r(this,e),this._r=new Hl,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return a(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this._r.Ci(e),this.wr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.wr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this._r.Ni(e)}},{key:"isLocalQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.wr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this._r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"start",value:function(){return this._r=new Hl,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Wl=function(){function e(){r(this,e)}return a(e,[{key:"mr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ql=function(){function e(){var t=this;r(this,e),this.gr=function(){return t.yr()},this.pr=function(){return t.Ir()},this.Er=[],this.Tr()}return a(e,[{key:"mr",value:function(e){this.Er.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}},{key:"Tr",value:function(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}},{key:"yr",value:function(){ia("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=T(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ir",value:function(){ia("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=T(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),$l={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Xl=function(){function e(t){r(this,e),this.Ar=t.Ar,this.Rr=t.Rr}return a(e,[{key:"Pr",value:function(e){this.br=e}},{key:"vr",value:function(e){this.Vr=e}},{key:"onMessage",value:function(e){this.Sr=e}},{key:"close",value:function(){this.Rr()}},{key:"send",value:function(e){this.Ar(e)}},{key:"Dr",value:function(){this.br()}},{key:"Cr",value:function(e){this.Vr(e)}},{key:"Nr",value:function(e){this.Sr(e)}}]),e}(),Yl=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this,e)).forceLongPolling=e.forceLongPolling,i.autoDetectLongPolling=e.autoDetectLongPolling,i.useFetchStreams=e.useFetchStreams,i}return a(n,[{key:"Br",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Ji;o.listenOnce(Wi.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Gi.NO_ERROR:var t=o.getResponseJson();ia("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Gi.TIMEOUT:ia("Connection",'RPC "'+e+'" timed out'),a(new ha(fa.DEADLINE_EXCEEDED,"Request time out"));break;case Gi.HTTP_ERROR:var n=o.getStatus();if(ia("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(fa).indexOf(t)>=0?t:fa.UNKNOWN}(r.status);a(new ha(u,r.message))}else a(new ha(fa.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ha(fa.UNAVAILABLE,"Connection failed."));break;default:sa()}}finally{ia("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Ur",value:function(e,t,n){var r=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ki(),a=Hi(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Xi({})),this.Fr(o.initMessageHeaders,t,n),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(M())||"object"===typeof navigator&&"ReactNative"===navigator.product||M().indexOf("Electron/")>=0||function(){var e=M();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||M().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");ia("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),l=!1,c=!1,f=new Xl({Ar:function(e){c?ia("Connection","Not sending because WebChannel is closed:",e):(l||(ia("Connection","Opening WebChannel transport."),s.open(),l=!0),ia("Connection","WebChannel sending:",e),s.send(e))},Rr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Yi.EventType.OPEN,(function(){c||ia("Connection","WebChannel transport opened.")})),h(s,Yi.EventType.CLOSE,(function(){c||(c=!0,ia("Connection","WebChannel transport closed"),f.Cr())})),h(s,Yi.EventType.ERROR,(function(e){c||(c=!0,oa("Connection","WebChannel transport errored:",e),f.Cr(new ha(fa.UNAVAILABLE,"The operation could not be completed")))})),h(s,Yi.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];la(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ia("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=_u[e];if(void 0!==t)return Pu(t)}(a),u=i.message;void 0===o&&(o=fa.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),c=!0,f.Cr(new ha(o,u)),s.close()}else ia("Connection","WebChannel received:",n),f.Nr(n)}})),h(a,Qi.STAT_EVENT,(function(e){e.stat===$i.PROXY?ia("Connection","Detected buffering proxy"):e.stat===$i.NOPROXY&&ia("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Dr()}),0),f}}]),n}(function(){function e(t){r(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.kr=n+"://"+t.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return a(e,[{key:"Mr",value:function(e,t,n,r,i){var a=this.$r(e,t);ia("RestConnection","Sending: ",a,n);var o={};return this.Fr(o,r,i),this.Br(e,a,o,n).then((function(e){return ia("RestConnection","Received: ",e),e}),(function(t){throw oa("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"Lr",value:function(e,t,n,r,i){return this.Mr(e,t,n,r,i)}},{key:"Fr",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ta,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"$r",value:function(e,t){var n=$l[e];return"".concat(this.kr,"/v1/").concat(t,":").concat(n)}}]),e}());function Jl(){return"undefined"!=typeof document?document:null}function Zl(e){return new is(e,!0)}var ec=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;r(this,e),this.Sn=t,this.timerId=n,this.qr=i,this.Kr=a,this.Gr=o,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}return a(e,[{key:"reset",value:function(){this.jr=0}},{key:"zr",value:function(){this.jr=this.Gr}},{key:"Hr",value:function(e){var t=this;this.cancel();var n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,n-r);i>0&&ia("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.jr," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,(function(){return t.Wr=Date.now(),e()})),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}},{key:"Yr",value:function(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}},{key:"cancel",value:function(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}},{key:"Jr",value:function(){return(Math.random()-.5)*this.jr}}]),e}(),tc=function(){function e(t,n,i,a,o,u,s,l){r(this,e),this.Sn=t,this.Xr=i,this.Zr=a,this.eo=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new ec(t,n)}return a(e,[{key:"oo",value:function(){return 1===this.state||5===this.state||this.co()}},{key:"co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.uo()}},{key:"stop",value:function(){var e=x(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ao",value:function(){this.state=0,this.ro.reset()}},{key:"ho",value:function(){var e=this;this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,(function(){return e.lo()})))}},{key:"fo",value:function(e){this._o(),this.stream.send(e)}},{key:"lo",value:function(){var e=x(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_o",value:function(){this.so&&(this.so.cancel(),this.so=null)}},{key:"wo",value:function(){this.io&&(this.io.cancel(),this.io=null)}},{key:"close",value:function(){var e=x(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._o(),this.wo(),this.ro.cancel(),this.no++,4!==t?this.ro.reset():n&&n.code===fa.RESOURCE_EXHAUSTED?(aa(n.toString()),aa("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):n&&n.code===fa.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.mo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.vr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=N(t,2),i=r[0],a=r[1];e.no===n&&e.po(i,a)}),(function(n){t((function(){var t=new ha(fa.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Io(t)}))}))}},{key:"po",value:function(e,t){var n=this,r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr((function(){r((function(){return n.state=2,n.io=n.Sn.enqueueAfterDelay(n.Zr,1e4,(function(){return n.co()&&(n.state=3),Promise.resolve()})),n.listener.Pr()}))})),this.stream.vr((function(e){r((function(){return n.Io(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"uo",value:function(){var e=this;this.state=5,this.ro.Hr(x(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Io",value:function(e){return ia("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"yo",value:function(e){var t=this;return function(n){t.Sn.enqueueAndForget((function(){return t.no===e?n():(ia("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),nc=function(e){u(n,e);var t=d(n);function n(e,i,a,o,u,s){var l;return r(this,n),(l=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,s)).O=u,l}return a(n,[{key:"Eo",value:function(e,t){return this.eo.Ur("Listen",e,t)}},{key:"onMessage",value:function(e){this.ro.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:sa()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(la(void 0===t||"string"==typeof t),Ma.fromBase64String(t||"")):(la(void 0===t||t instanceof Uint8Array),Ma.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?fa.UNKNOWN:Pu(e.code);return new ha(t,e.message||"")}(o);n=new Yu(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var l=hs(e,s.document.name),c=ss(s.document.updateTime),f=new co({mapValue:{fields:s.document.fields}}),h=ho.newFoundDocument(l,c,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new $u(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=hs(e,v.document),g=v.readTime?ss(v.readTime):Ca.min(),m=ho.newNoDocument(y,g),k=v.removedTargetIds||[];n=new $u([],k,m.key,m)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=hs(e,b.document),E=b.removedTargetIds||[];n=new $u([],E,w,null)}else{if(!("filter"in t))return sa();t.filter;var S=t.filter;S.targetId;var x=S.count||0,T=new Au(x),_=S.targetId;n=new Xu(_,T)}return n}(this.O,e),n=function(e){if(!("targetChange"in e))return Ca.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ca.min():t.readTime?ss(t.readTime):Ca.min()}(e);return this.listener.To(t,n)}},{key:"Ao",value:function(e){var t={};t.database=vs(this.O),t.addTarget=function(e,t){var n,r=t.target;return(n=ko(r)?{documents:ks(e,r)}:{query:bs(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=os(e,t.resumeToken):t.snapshotVersion.compareTo(Ca.min())>0&&(n.readTime=as(e,t.snapshotVersion.toTimestamp())),n}(this.O,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return sa()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.O,e);n&&(t.labels=n),this.fo(t)}},{key:"Ro",value:function(e){var t={};t.database=vs(this.O),t.removeTarget=e,this.fo(t)}}]),n}(tc),rc=function(e){u(n,e);var t=d(n);function n(e,i,a,o,u,s){var l;return r(this,n),(l=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,s)).O=u,l.Po=!1,l}return a(n,[{key:"bo",get:function(){return this.Po}},{key:"start",value:function(){this.Po=!1,this.lastStreamToken=void 0,Ve(s(n.prototype),"start",this).call(this)}},{key:"mo",value:function(){this.Po&&this.vo([])}},{key:"Eo",value:function(e,t){return this.eo.Ur("Write",e,t)}},{key:"onMessage",value:function(e){if(la(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();var t=function(e,t){return e&&e.length>0?(la(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ss(e.updateTime):ss(t);return n.isEqual(Ca.min())&&(n=ss(t)),new hu(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ss(e.commitTime);return this.listener.Vo(n,t)}return la(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}},{key:"Do",value:function(){var e={};e.database=vs(this.O),this.fo(e)}},{key:"vo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ms(t.O,e)}))};this.fo(n)}}]),n}(tc),ic=function(e){u(n,e);var t=d(n);function n(e,i,a,o){var u;return r(this,n),(u=t.call(this)).authCredentials=e,u.appCheckCredentials=i,u.eo=a,u.O=o,u.Co=!1,u}return a(n,[{key:"No",value:function(){if(this.Co)throw new ha(fa.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Mr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=N(i,2),o=a[0],u=a[1];return r.eo.Mr(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===fa.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ha(fa.UNKNOWN,e.toString())}))}},{key:"Lr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=N(i,2),o=a[0],u=a[1];return r.eo.Lr(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===fa.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ha(fa.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Co=!0}}]),n}(function(){return a((function e(){r(this,e)}))}()),ac=function(){function e(t,n){r(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}return a(e,[{key:"Mo",value:function(){var e=this;0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ko=null,e.Fo("Backend didn't respond within 10 seconds."),e.$o("Offline"),Promise.resolve()})))}},{key:"Bo",value:function(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.$o("Offline")))}},{key:"set",value:function(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}},{key:"$o",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Fo",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Oo?(aa(t),this.Oo=!1):ia("OnlineStateTracker",t)}},{key:"Lo",value:function(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}]),e}(),oc=a((function e(t,n,i,a,o){var u=this;r(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=o,this.jo.mr((function(e){i.enqueueAndForget(x(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=gc(u),!e.t0){e.next=5;break}return ia("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=x(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ca(t)).Ko.add(4),e.next=4,lc(n);case 4:return n.Qo.set("Unknown"),n.Ko.delete(4),e.next=8,uc(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this.Qo=new ac(i,a)}));function uc(e){return sc.apply(this,arguments)}function sc(){return sc=x(I().mark((function e(t){var n,r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!gc(t)){e.next=18;break}n=T(t.Go),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),sc.apply(this,arguments)}function lc(e){return cc.apply(this,arguments)}function cc(){return cc=x(I().mark((function e(t){var n,r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=T(t.Go),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),cc.apply(this,arguments)}function fc(e,t){var n=ca(e);n.qo.has(t.targetId)||(n.qo.set(t.targetId,t),yc(n)?vc(n):Gc(n).co()&&dc(n,t))}function hc(e,t){var n=ca(e),r=Gc(n);n.qo.delete(t),r.co()&&pc(n,t),0===n.qo.size&&(r.co()?r.ho():gc(n)&&n.Qo.set("Unknown"))}function dc(e,t){e.Wo.Z(t.targetId),Gc(e).Ao(t)}function pc(e,t){e.Wo.Z(t),Gc(e).Ro(t)}function vc(e){e.Wo=new Zu({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.qo.get(t)||null}}),Gc(e).start(),e.Qo.Mo()}function yc(e){return gc(e)&&!Gc(e).oo()&&e.qo.size>0}function gc(e){return 0===ca(e).Ko.size}function mc(e){e.Wo=void 0}function kc(e){return bc.apply(this,arguments)}function bc(){return bc=x(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.qo.forEach((function(e,n){dc(t,e)}));case 1:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function wc(e,t){return Ec.apply(this,arguments)}function Ec(){return Ec=x(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mc(t),yc(t)?(t.Qo.Bo(n),vc(t)):t.Qo.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Ec.apply(this,arguments)}function Sc(e,t,n){return xc.apply(this,arguments)}function xc(){return xc=x(I().mark((function e(t,n,r){var i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Qo.set("Online"),!(n instanceof Yu&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=x(I().mark((function e(t,n){var r,i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=T(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.qo.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.qo.delete(o),t.Wo.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ia("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Tc(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof $u?t.Wo.ct(n):n instanceof Xu?t.Wo._t(n):t.Wo.ht(n),r.isEqual(Ca.min())){e.next=29;break}return e.prev=14,e.next=17,_l(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Wo.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.qo.get(r);i&&e.qo.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.qo.get(t);if(n){e.qo.set(t,n.withResumeToken(Ma.EMPTY_BYTE_STRING,n.snapshotVersion)),pc(e,t);var r=new ol(n.target,t,1,n.sequenceNumber);dc(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ia("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Tc(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),xc.apply(this,arguments)}function Tc(e,t,n){return _c.apply(this,arguments)}function _c(){return _c=x(I().mark((function e(t,n,r){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nl(n)){e.next=2;break}throw n;case 2:return t.Ko.add(1),e.next=5,lc(t);case 5:t.Qo.set("Offline"),r||(r=function(){return _l(t.localStore)}),t.asyncQueue.enqueueRetryable(x(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ia("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Ko.delete(1),e.next=6,uc(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}function Cc(e,t){return t().catch((function(n){return Tc(e,n,t)}))}function Ic(e){return Nc.apply(this,arguments)}function Nc(){return Nc=x(I().mark((function e(t){var n,r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ca(t),r=Wc(n),i=n.Uo.length>0?n.Uo[n.Uo.length-1].batchId:-1;case 2:if(!Ac(n)){e.next=19;break}return e.prev=3,e.next=6,Nl(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Uo.length&&r.ho(),e.abrupt("break",19);case 10:i=a.batchId,Dc(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Tc(n,e.t0);case 17:e.next=2;break;case 19:Pc(n)&&Oc(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Nc.apply(this,arguments)}function Ac(e){return gc(e)&&e.Uo.length<10}function Dc(e,t){e.Uo.push(t);var n=Wc(e);n.co()&&n.bo&&n.vo(t.mutations)}function Pc(e){return gc(e)&&!Wc(e).oo()&&e.Uo.length>0}function Oc(e){Wc(e).start()}function Lc(e){return Rc.apply(this,arguments)}function Rc(){return Rc=x(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Wc(t).Do();case 1:case"end":return e.stop()}}),e)}))),Rc.apply(this,arguments)}function Mc(e){return Fc.apply(this,arguments)}function Fc(){return Fc=x(I().mark((function e(t){var n,r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Wc(t),r=T(t.Uo);try{for(r.s();!(i=r.n()).done;)a=i.value,n.vo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Fc.apply(this,arguments)}function Vc(e,t,n){return Uc.apply(this,arguments)}function Uc(){return Uc=x(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Uo.shift(),a=il.from(i,n,r),e.next=3,Cc(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Ic(t);case 5:case"end":return e.stop()}}),e)}))),Uc.apply(this,arguments)}function jc(e,t){return zc.apply(this,arguments)}function zc(){return zc=x(I().mark((function e(t,n){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Wc(t).bo,!e.t0){e.next=4;break}return e.next=4,function(){var e=x(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Du(i=n.code)||i===fa.ABORTED){e.next=7;break}return r=t.Uo.shift(),Wc(t).ao(),e.next=5,Cc(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Ic(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Pc(t)&&Oc(t);case 5:case"end":return e.stop()}}),e)}))),zc.apply(this,arguments)}function Bc(e,t){return qc.apply(this,arguments)}function qc(){return qc=x(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ca(t)).asyncQueue.verifyOperationInProgress(),ia("RemoteStore","RemoteStore received new credentials"),i=gc(r),r.Ko.add(3),e.next=6,lc(r);case 6:return i&&r.Qo.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Ko.delete(3),e.next=12,uc(r);case 12:case"end":return e.stop()}}),e)}))),qc.apply(this,arguments)}function Kc(e,t){return Hc.apply(this,arguments)}function Hc(){return Hc=x(I().mark((function e(t,n){var r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ca(t),!n){e.next=7;break}return r.Ko.delete(2),e.next=5,uc(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Ko.add(2),e.next=12,lc(r);case 12:r.Qo.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Hc.apply(this,arguments)}function Gc(e){return e.zo||(e.zo=function(e,t,n){var r=ca(e);return r.No(),new nc(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:kc.bind(null,e),vr:wc.bind(null,e),To:Sc.bind(null,e)}),e.Go.push(function(){var t=x(I().mark((function t(n){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.zo.ao(),yc(e)?vc(e):e.Qo.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.zo.stop();case 6:mc(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.zo}function Wc(e){return e.Ho||(e.Ho=function(e,t,n){var r=ca(e);return r.No(),new rc(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:Lc.bind(null,e),vr:jc.bind(null,e),So:Mc.bind(null,e),Vo:Vc.bind(null,e)}),e.Go.push(function(){var t=x(I().mark((function t(n){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Ho.ao(),t.next=4,Ic(e);case 4:t.next=9;break;case 6:return t.next=8,e.Ho.stop();case 8:e.Uo.length>0&&(ia("RemoteStore","Stopping write stream with ".concat(e.Uo.length," pending writes")),e.Uo=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Ho}var Qc=function(){function e(t,n,i,a,o){r(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return a(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ha(fa.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function $c(e,t){if(aa("AsyncQueue","".concat(t,": ").concat(e)),nl(e))return new ha(fa.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Xc=function(){function e(t){r(this,e),this.comparator=t?function(e,n){return t(e,n)||$a.comparator(e.key,n.key)}:function(e,t){return $a.comparator(e.key,t.key)},this.keyedMap=zu(),this.sortedSet=new Ou(this.comparator)}return a(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Yc=function(){function e(){r(this,e),this.Jo=new Ou($a.comparator)}return a(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Jo.get(t);n?0!==e.type&&3===n.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==n.type?this.Jo=this.Jo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jo=this.Jo.remove(t):1===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):sa():this.Jo=this.Jo.insert(t,e)}},{key:"Yo",value:function(){var e=[];return this.Jo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Jc=function(){function e(t,n,i,a,o,u,s,l){r(this,e),this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=s,this.excludesMetadataChanges=l}return a(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ho(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Xc.emptySet(n),a,r,i,!0,!1)}}]),e}(),Zc=a((function e(){r(this,e),this.Xo=void 0,this.listeners=[]})),ef=a((function e(){r(this,e),this.queries=new yl((function(e){return Go(e)}),Ho),this.onlineState="Unknown",this.Zo=new Set}));function tf(e,t){return nf.apply(this,arguments)}function nf(){return nf=x(I().mark((function e(t,n){var r,i,a,o,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ca(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Zc),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Xo=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=$c(e.t0,"Initialization of query '".concat(Wo(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.tc(r.onlineState),o.Xo&&n.ec(o.Xo)&&of(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),nf.apply(this,arguments)}function rf(e,t){var n,r=ca(e),i=!1,a=T(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var l,c=T(s.listeners);try{for(c.s();!(l=c.n()).done;){l.value.ec(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}s.Xo=o}}}catch(f){a.e(f)}finally{a.f()}i&&of(r)}function af(e,t,n){var r=ca(e),i=r.queries.get(t);if(i){var a,o=T(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function of(e){e.Zo.forEach((function(e){e.next()}))}var uf=function(){function e(t,n,i){r(this,e),this.query=t,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=i||{}}return a(e,[{key:"ec",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=T(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Jc(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.sc?this.rc(e)&&(this.nc.next(e),a=!0):this.oc(e,this.onlineState)&&(this.cc(e),a=!0),this.ic=e,a}},{key:"onError",value:function(e){this.nc.error(e)}},{key:"tc",value:function(e){this.onlineState=e;var t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}},{key:"oc",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.uc||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"rc",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"cc",value:function(e){e=Jc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}]),e}();var sf=a((function e(t){r(this,e),this.key=t})),lf=a((function e(t){r(this,e),this.key=t})),cf=function(){function e(t,n){r(this,e),this.query=t,this.dc=n,this._c=null,this.current=!1,this.wc=Ku(),this.mutatedKeys=Ku(),this.mc=$o(t),this.gc=new Xc(this.mc)}return a(e,[{key:"yc",get:function(){return this.dc}},{key:"Ic",value:function(e,t){var n=this,r=t?t.Ec:new Yc,i=t?t.gc:this.gc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Fo(this.query)&&i.size===this.query.limit?i.last():null,l=Vo(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=Qo(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Tc(c,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.mc(f,s)>0||l&&n.mc(f,l)<0)&&(u=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(s||l)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Fo(this.query)||Vo(this.query))for(;o.size>this.query.limit;){var c=Fo(this.query)?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{gc:o,Ec:r,ks:u,mutatedKeys:a}}},{key:"Tc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;var a=e.Ec.Yo();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return sa()}};return n(e)-n(t)}(e.type,t.type)||r.mc(e.doc,t.doc)})),this.Ac(n);var o=t?this.Rc():[],u=0===this.wc.size&&this.current?1:0,s=u!==this._c;return this._c=u,0!==a.length||s?{snapshot:new Jc(this.query,e.gc,i,a,e.mutatedKeys,0===u,s,!1),Pc:o}:{Pc:o}}},{key:"tc",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new Yc,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}},{key:"bc",value:function(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}},{key:"Ac",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.dc=t.dc.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.dc=t.dc.delete(e)})),this.current=e.current)}},{key:"Rc",value:function(){var e=this;if(!this.current)return[];var t=this.wc;this.wc=Ku(),this.gc.forEach((function(t){e.bc(t.key)&&(e.wc=e.wc.add(t.key))}));var n=[];return t.forEach((function(t){e.wc.has(t)||n.push(new lf(t))})),this.wc.forEach((function(e){t.has(e)||n.push(new sf(e))})),n}},{key:"vc",value:function(e){this.dc=e.Ks,this.wc=Ku();var t=this.Ic(e.documents);return this.applyChanges(t,!0)}},{key:"Vc",value:function(){return Jc.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}]),e}(),ff=a((function e(t,n,i){r(this,e),this.query=t,this.targetId=n,this.view=i})),hf=a((function e(t){r(this,e),this.key=t,this.Sc=!1})),df=function(){function e(t,n,i,a,o,u){r(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Dc={},this.Cc=new yl((function(e){return Go(e)}),Ho),this.Nc=new Map,this.xc=new Set,this.kc=new Ou($a.comparator),this.Oc=new Map,this.Mc=new Ml,this.$c={},this.Fc=new Map,this.Bc=dl.Je(),this.onlineState="Unknown",this.Lc=void 0}return a(e,[{key:"isPrimaryClient",get:function(){return!0===this.Lc}}]),e}();function pf(e,t){return vf.apply(this,arguments)}function vf(){return vf=x(I().mark((function e(t,n){var r,i,a,o,u,s;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qf(t),!(o=r.Cc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Vc(),e.next=15;break;case 6:return e.next=8,Al(r.localStore,qo(n));case 8:return u=e.sent,r.isPrimaryClient&&fc(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,yf(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),vf.apply(this,arguments)}function yf(e,t,n,r){return gf.apply(this,arguments)}function gf(){return gf=x(I().mark((function e(t,n,r,i){var a,o,u,s,l,c;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Uc=function(e,n,r){return function(){var e=x(I().mark((function e(t,n,r,i){var a,o,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ic(r),e.t0=a.ks,!e.t0){e.next=6;break}return e.next=5,Ol(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ic(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Rf(t,n.targetId,u.Pc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Ol(t.localStore,n,!0);case 3:return a=e.sent,o=new cf(n,a.Ks),u=o.Ic(a.documents),s=Qu.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=o.applyChanges(u,t.isPrimaryClient,s),Rf(t,r,l.Pc),c=new ff(n,r,o),e.abrupt("return",(t.Cc.set(n,c),t.Nc.has(r)?t.Nc.get(r).push(n):t.Nc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),gf.apply(this,arguments)}function mf(e,t){return kf.apply(this,arguments)}function kf(){return kf=x(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ca(t),i=r.Cc.get(n),!((a=r.Nc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Nc.set(i.targetId,a.filter((function(e){return!Ho(e,n)}))),void r.Cc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Dl(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),hc(r.remoteStore,i.targetId),Of(r,i.targetId)})).catch(pl);case 9:e.next=14;break;case 11:return Of(r,i.targetId),e.next=14,Dl(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),kf.apply(this,arguments)}function bf(e,t,n){return wf.apply(this,arguments)}function wf(){return wf=x(I().mark((function e(t,n,r){var i,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Kf(t),e.prev=1,e.next=4,function(e,t){var n,r=ca(e),i=_a.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Ku());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Us.Es(e,a).next((function(a){n=a;var o,u=[],s=T(t);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=mu(l,n.get(l.key));null!=c&&u.push(new Eu(l.key,c,fo(c.value.mapValue),du.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.gs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.$c[e.currentUser.toKey()];r||(r=new Ou(xa)),r=r.insert(t,n),e.$c[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Vf(i,a.changes);case 9:return e.next=11,Ic(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=$c(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),wf.apply(this,arguments)}function Ef(e,t){return Sf.apply(this,arguments)}function Sf(){return Sf=x(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ca(t),e.prev=1,e.next=4,Cl(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Oc.get(t);n&&(la(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Sc=!0:e.modifiedDocuments.size>0?la(n.Sc):e.removedDocuments.size>0&&(la(n.Sc),n.Sc=!1))})),e.next=8,Vf(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,pl(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Sf.apply(this,arguments)}function xf(e,t,n){var r=ca(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Cc.forEach((function(e,n){var r=n.view.tc(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ca(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=T(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.tc(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&of(n)}(r.eventManager,t),i.length&&r.Dc.To(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Tf(e,t,n){return _f.apply(this,arguments)}function _f(){return _f=x(I().mark((function e(t,n,r){var i,a,o,u,s,l;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=ca(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Oc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Ou($a.comparator)).insert(o,ho.newNoDocument(o,Ca.min())),s=Ku().add(o),l=new Wu(Ca.min(),new Map,new Mu(xa),u,s),e.next=9,Ef(i,l);case 9:i.kc=i.kc.remove(o),i.Oc.delete(n),Ff(i),e.next=16;break;case 14:return e.next=16,Dl(i.localStore,n,!1).then((function(){return Of(i,n,r)})).catch(pl);case 16:case"end":return e.stop()}}),e)}))),_f.apply(this,arguments)}function Cf(e,t){return If.apply(this,arguments)}function If(){return If=x(I().mark((function e(t,n){var r,i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ca(t),i=n.batch.batchId,e.prev=1,e.next=4,Tl(r.localStore,n);case 4:return a=e.sent,Pf(r,i,null),Df(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Vf(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,pl(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),If.apply(this,arguments)}function Nf(e,t,n){return Af.apply(this,arguments)}function Af(){return Af=x(I().mark((function e(t,n,r){var i,a;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ca(t),e.prev=1,e.next=4,function(e,t){var n=ca(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.gs.lookupMutationBatch(e,t).next((function(t){return la(null!==t),r=t.keys(),n.gs.removeMutationBatch(e,t)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Pf(i,n,r),Df(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Vf(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,pl(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Af.apply(this,arguments)}function Df(e,t){(e.Fc.get(t)||[]).forEach((function(e){e.resolve()})),e.Fc.delete(t)}function Pf(e,t,n){var r=ca(e),i=r.$c[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.$c[r.currentUser.toKey()]=i}}function Of(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=T(e.Nc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Cc.delete(a),n&&e.Dc.qc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Nc.delete(t),e.isPrimaryClient&&e.Mc.si(t).forEach((function(t){e.Mc.containsKey(t)||Lf(e,t)}))}function Lf(e,t){e.xc.delete(t.path.canonicalString());var n=e.kc.get(t);null!==n&&(hc(e.remoteStore,n),e.kc=e.kc.remove(t),e.Oc.delete(n),Ff(e))}function Rf(e,t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof sf?(e.Mc.addReference(a.key,t),Mf(e,a)):a instanceof lf?(ia("SyncEngine","Document no longer in limbo: "+a.key),e.Mc.removeReference(a.key,t),e.Mc.containsKey(a.key)||Lf(e,a.key)):sa()}}catch(o){i.e(o)}finally{i.f()}}function Mf(e,t){var n=t.key,r=n.path.canonicalString();e.kc.get(n)||e.xc.has(r)||(ia("SyncEngine","New document in limbo: "+n),e.xc.add(r),Ff(e))}function Ff(e){for(;e.xc.size>0&&e.kc.size<e.maxConcurrentLimboResolutions;){var t=e.xc.values().next().value;e.xc.delete(t);var n=new $a(Pa.fromString(t)),r=e.Bc.next();e.Oc.set(r,new hf(n)),e.kc=e.kc.insert(n,r),fc(e.remoteStore,new ol(qo(Mo(n.path)),r,2,wa.A))}}function Vf(e,t,n){return Uf.apply(this,arguments)}function Uf(){return Uf=x(I().mark((function e(t,n,r){var i,a,o,u;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ca(t),a=[],o=[],u=[],e.t0=i.Cc.isEmpty(),e.t0){e.next=9;break}return i.Cc.forEach((function(e,t){u.push(i.Uc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=kl.Ss(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Dc.To(a),e.next=9,function(){var e=x(I().mark((function e(t,n){var r,i,a,o,u,s,l,c;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ca(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return tl.forEach(n,(function(t){return tl.forEach(t.vs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return tl.forEach(t.Vs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),nl(e.t0)){e.next=10;break}throw e.t0;case 10:ia("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=T(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ms.get(u),l=s.snapshotVersion,c=s.withLastLimboFreeSnapshotVersion(l),r.Ms=r.Ms.insert(u,c))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Uf.apply(this,arguments)}function jf(e,t){return zf.apply(this,arguments)}function zf(){return zf=x(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=ca(t)).currentUser.isEqual(n)){e.next=11;break}return ia("SyncEngine","User change. New user:",n.toKey()),e.next=5,Sl(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Fc.forEach((function(e){e.forEach((function(e){e.reject(new ha(fa.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Vf(r,i.qs);case 11:case"end":return e.stop()}}),e)}))),zf.apply(this,arguments)}function Bf(e,t){var n=ca(e),r=n.Oc.get(t);if(r&&r.Sc)return Ku().add(r.key);var i=Ku(),a=n.Nc.get(t);if(!a)return i;var o,u=T(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,l=n.Cc.get(s);i=i.unionWith(l.view.yc)}}catch(c){u.e(c)}finally{u.f()}return i}function qf(e){var t=ca(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ef.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Tf.bind(null,t),t.Dc.To=rf.bind(null,t.eventManager),t.Dc.qc=af.bind(null,t.eventManager),t}function Kf(e){var t=ca(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Cf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Nf.bind(null,t),t}var Hf=function(){function e(){r(this,e),this.synchronizeTabs=!1}return a(e,[{key:"initialize",value:function(){var e=x(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.O=Zl(t.databaseInfo.databaseId),this.sharedClientState=this.Gc(t),this.persistence=this.jc(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Qc(t),this.localStore=this.Wc(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){return null}},{key:"Wc",value:function(e){return El(this.persistence,new bl,e.initialUser,this.O)}},{key:"jc",value:function(e){return new Bl(Kl.bi,this.O)}},{key:"Gc",value:function(e){return new Gl}},{key:"terminate",value:function(){var e=x(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Gf=function(){function e(){r(this,e)}return a(e,[{key:"initialize",value:function(){var e=x(I().mark((function e(t,n){var r=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return xf(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=jf.bind(null,this.syncEngine),e.next=12,Kc(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new ef}},{key:"createDatastore",value:function(e){var t,n=Zl(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Yl(t));return function(e,t,n,r){return new ic(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return xf(o.syncEngine,e,0)},a=Ql.Vt()?new Ql:new Wl,new oc(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new df(e,t,n,r,i,a);return o&&(u.Lc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=x(I().mark((function e(t){var n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ca(t),ia("RemoteStore","RemoteStore shutting down."),n.Ko.add(5),e.next=5,lc(n);case 5:n.jo.shutdown(),n.Qo.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Wf=function(){function e(t){r(this,e),this.observer=t,this.muted=!1}return a(e,[{key:"next",value:function(e){this.observer.next&&this.Hc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Jc",value:function(){this.muted=!0}},{key:"Hc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Qf=function(){function e(t,n,i,a){var o=this;r(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=ea.UNAUTHENTICATED,this.clientId=Sa.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(i,function(){var e=x(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ia("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(i,(function(e){return ia("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return a(e,[{key:"getConfiguration",value:function(){var e=x(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ha(fa.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(x(I().mark((function n(){var r;return I().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=$c(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function $f(e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=x(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ia("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=x(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Sl(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function Yf(e,t){return Jf.apply(this,arguments)}function Jf(){return Jf=x(I().mark((function e(t,n){var r,i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Zf(t);case 3:return r=e.sent,ia("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Bc(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Bc(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Jf.apply(this,arguments)}function Zf(e){return eh.apply(this,arguments)}function eh(){return eh=x(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return ia("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,$f(t,new Hf);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),eh.apply(this,arguments)}function th(e){return nh.apply(this,arguments)}function nh(){return nh=x(I().mark((function e(t){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return ia("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Yf(t,new Gf);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),nh.apply(this,arguments)}function rh(e){return th(e).then((function(e){return e.syncEngine}))}function ih(e){return ah.apply(this,arguments)}function ah(){return ah=x(I().mark((function e(t){var n,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,th(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=pf.bind(null,n.syncEngine),r.onUnlisten=mf.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),ah.apply(this,arguments)}var oh=new Map;function uh(e,t,n){if(!n)throw new ha(fa.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function sh(e){if(!$a.isDocumentKey(e))throw new ha(fa.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function lh(e){if($a.isDocumentKey(e))throw new ha(fa.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ch(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":sa()}function fh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ha(fa.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ch(e);throw new ha(fa.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var hh=function(){function e(t){var n;if(r(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ha(fa.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ha(fa.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new ha(fa.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return a(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),dh=function(){function e(t,n,i){r(this,e),this._authCredentials=n,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hh({}),this._settingsFrozen=!1,t instanceof Ha?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ha(fa.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ha(e.options.projectId)}(t))}return a(e,[{key:"app",get:function(){if(!this._app)throw new ha(fa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ha(fa.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hh(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new va;switch(e.type){case"gapi":var t=e.client;return la(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ma(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ha(fa.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=oh.get(e);t&&(ia("ComponentProvider","Removing Datastore"),oh.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var ph=function(){function e(t,n,i){r(this,e),this.converter=n,this._key=i,this.type="document",this.firestore=t}return a(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new yh(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),vh=function(){function e(t,n,i){r(this,e),this.converter=n,this._query=i,this.type="query",this.firestore=t}return a(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),yh=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this,e,i,Mo(a)))._path=a,o.type="collection",o}return a(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ph(this.firestore,null,new $a(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(vh);function gh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=q(e),uh("collection","path",t),e instanceof dh){var a=Pa.fromString.apply(Pa,[t].concat(r));return lh(a),new yh(e,null,a)}if(!(e instanceof ph||e instanceof yh))throw new ha(fa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Pa.fromString.apply(Pa,[t].concat(r)));return lh(o),new yh(e.firestore,null,o)}function mh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=q(e),1===arguments.length&&(t=Sa.R()),uh("doc","path",t),e instanceof dh){var a=Pa.fromString.apply(Pa,[t].concat(r));return sh(a),new ph(e,null,new $a(a))}if(!(e instanceof ph||e instanceof yh))throw new ha(fa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Pa.fromString.apply(Pa,[t].concat(r)));return sh(o),new ph(e.firestore,e instanceof yh?e.converter:null,new $a(o))}var kh=function(){function e(){var t=this;r(this,e),this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new ec(this,"async_queue_retry"),this.yu=function(){var e=Jl();e&&ia("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ro.Yr()};var n=Jl();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.yu)}return a(e,[{key:"isShuttingDown",get:function(){return this.fu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.pu(),this.Iu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.fu){this.fu=!0,this.mu=e||!1;var t=Jl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}},{key:"enqueue",value:function(e){var t=this;if(this.pu(),this.fu)return new Promise((function(){}));var n=new da;return this.Iu((function(){return t.fu&&t.mu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.lu.push(e),t.Eu()}))}},{key:"Eu",value:function(){var e=x(I().mark((function e(){var t=this;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.lu.length){e.next=14;break}return e.prev=1,e.next=4,this.lu[0]();case 4:this.lu.shift(),this.ro.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),nl(e.t0)){e.next=12;break}throw e.t0;case 12:ia("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.lu.length>0&&this.ro.Hr((function(){return t.Eu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Iu",value:function(e){var t=this,n=this.hu.then((function(){return t.wu=!0,e().catch((function(e){t._u=e,t.wu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw aa("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.wu=!1,e}))}));return this.hu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.pu(),this.gu.indexOf(e)>-1&&(t=0);var i=Qc.createAndSchedule(this,e,t,n,(function(e){return r.Tu(e)}));return this.du.push(i),i}},{key:"pu",value:function(){this._u&&sa()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Au",value:function(){var e=x(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.hu,e.next=3,t;case 3:if(t!==this.hu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ru",value:function(e){var t,n=T(this.du);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.Au().then((function(){t.du.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=T(t.du);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Au()}))}},{key:"bu",value:function(e){this.gu.push(e)}},{key:"Tu",value:function(e){var t=this.du.indexOf(e);this.du.splice(t,1)}}]),e}();function bh(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=T(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var wh=function(e){u(n,e);var t=d(n);function n(e,i,a){var o;return r(this,n),(o=t.call(this,e,i,a)).type="firestore",o._queue=new kh,o._persistenceKey="name"in e?e.name:"[DEFAULT]",o}return a(n,[{key:"_terminate",value:function(){return this._firestoreClient||Sh(this),this._firestoreClient.terminate()}}]),n}(dh);function Eh(e){return e._firestoreClient||Sh(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Sh(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ka(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Qf(e._authCredentials,e._appCheckCredentials,e._queue,r)}var xh=function(){function e(){r(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var a=0;a<n.length;++a)if(0===n[a].length)throw new ha(fa.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new La(n)}return a(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Th=function(){function e(t){r(this,e),this._byteString=t}return a(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ma.fromBase64String(t))}catch(t){throw new ha(fa.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ma.fromUint8Array(t))}}]),e}(),_h=a((function e(t){r(this,e),this._methodName=t})),Ch=function(){function e(t,n){if(r(this,e),!isFinite(t)||t<-90||t>90)throw new ha(fa.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ha(fa.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return a(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return xa(this._lat,e._lat)||xa(this._long,e._long)}}]),e}(),Ih=/^__.*__$/,Nh=function(){function e(t,n,i){r(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=i}return a(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Eu(e,this.data,this.fieldMask,t,this.fieldTransforms):new wu(e,this.data,t,this.fieldTransforms)}}]),e}(),Ah=function(){function e(t,n,i){r(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=i}return a(e,[{key:"toMutation",value:function(e,t){return new Eu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Dh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw sa()}}var Ph=function(){function e(t,n,i,a,o,u){r(this,e),this.settings=t,this.databaseId=n,this.O=i,this.ignoreUndefinedProperties=a,void 0===o&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}return a(e,[{key:"path",get:function(){return this.settings.path}},{key:"Vu",get:function(){return this.settings.Vu}},{key:"Su",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.Nu(e),r}},{key:"xu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.vu(),r}},{key:"ku",value:function(e){return this.Su({path:void 0,Cu:!0})}},{key:"Ou",value:function(e){return Gh(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"vu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}},{key:"Nu",value:function(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(Dh(this.Vu)&&Ih.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}]),e}(),Oh=function(){function e(t,n,i){r(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.O=i||Zl(t)}return a(e,[{key:"Fu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ph({Vu:e,methodName:t,$u:n,path:La.emptyPath(),Cu:!1,Mu:r},this.databaseId,this.O,this.ignoreUndefinedProperties)}}]),e}();function Lh(e){var t=e._freezeSettings(),n=Zl(e._databaseId);return new Oh(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Rh(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Fu(a.merge||a.mergeFields?2:0,t,n,i);Bh("Data must be an object, but it was:",o,r);var u,s,l=jh(r,o);if(a.merge)u=new Ra(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=T(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=c.value,p=qh(t,d,n);if(!o.contains(p))throw new ha(fa.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Wh(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Ra(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Nh(new co(l),u,s)}var Mh=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Vu)throw 1===e.Vu?e.Ou("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ou("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(_h);function Fh(e,t,n,r){var i=e.Fu(1,t,n);Bh("Data must be an object, but it was:",i,r);var a=[],o=co.empty();Na(r,(function(e,r){var u=Hh(t,e,n);r=q(r);var s=i.xu(u);if(r instanceof Mh)a.push(u);else{var l=Uh(r,s);null!=l&&(a.push(u),o.set(u,l))}}));var u=new Ra(a);return new Ah(o,u,i.fieldTransforms)}function Vh(e,t,n,r,i,a){var o=e.Fu(1,t,n),u=[qh(t,r,n)],s=[i];if(a.length%2!=0)throw new ha(fa.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)u.push(qh(t,a[l])),s.push(a[l+1]);for(var c=[],f=co.empty(),h=u.length-1;h>=0;--h)if(!Wh(c,u[h])){var d=u[h],p=s[h];p=q(p);var v=o.xu(d);if(p instanceof Mh)c.push(d);else{var y=Uh(p,v);null!=y&&(c.push(d),f.set(d,y))}}var g=new Ra(c);return new Ah(f,g,o.fieldTransforms)}function Uh(e,t){if(zh(e=q(e)))return Bh("Unsupported field value:",t,e),jh(e,t);if(e instanceof _h)return function(e,t){if(!Dh(t.Vu))throw t.Ou("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ou("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Cu&&4!==t.Vu)throw t.Ou("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=T(e);try{for(a.s();!(n=a.n()).done;){var o=Uh(n.value,t.ku(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=q(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Zo(t.O,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=_a.fromDate(e);return{timestampValue:as(t.O,n)}}if(e instanceof _a){var r=new _a(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:as(t.O,r)}}if(e instanceof Ch)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Th)return{bytesValue:os(t.O,e._byteString)};if(e instanceof ph){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ou("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ls(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ou("Unsupported field value: ".concat(ch(e)))}(e,t)}function jh(e,t){var n={};return Aa(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Na(e,(function(e,r){var i=Uh(r,t.Du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function zh(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof _a||e instanceof Ch||e instanceof Th||e instanceof ph||e instanceof _h)}function Bh(e,t,n){if(!zh(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=ch(n);throw"an object"===r?t.Ou(e+" a custom object"):t.Ou(e+" "+r)}}function qh(e,t,n){if((t=q(t))instanceof xh)return t._internalPath;if("string"==typeof t)return Hh(e,t);throw Gh("Field path arguments must be of type string or ",e,!1,void 0,n)}var Kh=new RegExp("[~\\*/\\[\\]]");function Hh(e,t,n){if(t.search(Kh)>=0)throw Gh("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return A(xh,E(t.split(".")))._internalPath}catch(r){throw Gh("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Gh(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new ha(fa.INVALID_ARGUMENT,u+e+s)}function Wh(e,t){return e.some((function(e){return e.isEqual(t)}))}var Qh=function(){function e(t,n,i,a,o){r(this,e),this._firestore=t,this._userDataWriter=n,this._key=i,this._document=a,this._converter=o}return a(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new ph(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new $h(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Xh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),$h=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"data",value:function(){return Ve(s(n.prototype),"data",this).call(this)}}]),n}(Qh);function Xh(e,t){return"string"==typeof t?Hh(e,t):t instanceof xh?t._internalPath:t._delegate._internalPath}var Yh=function(){function e(t,n){r(this,e),this.hasPendingWrites=t,this.fromCache=n}return a(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Jh=function(e){u(n,e);var t=d(n);function n(e,i,a,o,u,s){var l;return r(this,n),(l=t.call(this,e,i,a,o,s))._firestore=e,l._firestoreImpl=e,l.metadata=u,l}return a(n,[{key:"exists",value:function(){return Ve(s(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Xh("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Qh),Zh=function(e){u(n,e);var t=d(n);function n(){return r(this,n),t.apply(this,arguments)}return a(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ve(s(n.prototype),"data",this).call(this,e)}}]),n}(Jh),ed=function(){function e(t,n,i,a){r(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Yh(a.hasPendingWrites,a.fromCache),this.query=i}return a(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Zh(n._firestore,n._userDataWriter,r.key,r,new Yh(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ha(fa.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Zh(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Zh(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:td(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function td(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return sa()}}function nd(e){if(Vo(e)&&0===e.explicitOrderBy.length)throw new ha(fa.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var rd=a((function e(){r(this,e)}));var id=function(e){u(n,e);var t=d(n);function n(e,i){var a;return r(this,n),(a=t.call(this)).Uu=e,a.Gu=i,a.type="orderBy",a}return a(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ha(fa.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ha(fa.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ao(t,n);return function(e,t){if(null===Uo(e)){var n=jo(e);null!==n&&ad(e,n,t.field)}}(e,r),r}(e._query,this.Uu,this.Gu);return new vh(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Lo(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(rd);function ad(e,t,n){if(!n.isEqual(t))throw new ha(fa.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var od=function(){function e(){r(this,e)}return a(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ua(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw sa()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Na(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Ch(Ua(e.latitude),Ua(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Ba(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(qa(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Va(e);return new _a(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Pa.fromString(e);la(As(n));var r=new Ha(n.get(1),n.get(3)),i=new $a(n.popFirst(5));return r.isEqual(t)||aa("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function ud(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var sd=function(e){u(n,e);var t=d(n);function n(e){var i;return r(this,n),(i=t.call(this)).firestore=e,i}return a(n,[{key:"convertBytes",value:function(e){return new Th(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new ph(this.firestore,null,t)}}]),n}(od);function ld(e,t,n){e=fh(e,ph);for(var r=fh(e.firestore,wh),i=Lh(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return cd(r,[("string"==typeof(t=q(t))||t instanceof xh?Vh(i,"updateDoc",e._key,t,n,o):Fh(i,"updateDoc",e._key,t)).toMutation(e._key,du.exists(!0))])}function cd(e,t){return function(e,t){var n=new da;return e.asyncQueue.enqueueAndForget(x(I().mark((function r(){return I().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=bf,r.next=3,rh(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Eh(e),t)}function fd(e,t,n){var r=n.docs.get(t._key),i=new sd(e);return new Jh(e,i,t._key,r,new Yh(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ta="9.6.8",pe(new K("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new wh(i,new ya(e.getProvider("auth-internal")),new ba(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),be(Zi,"3.4.5",e),be(Zi,"3.4.5","esm2017")}();var hd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:le,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ge.create("bad-app-name",{appName:String(i)});var a=fe.get(i);if(a){if(z(e,a.options)&&z(r,a.config))return a;throw ge.create("duplicate-app",{appName:i})}var o,u=new $(i),s=T(he.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;u.addComponent(l)}}catch(f){s.e(f)}finally{s.f()}var c=new me(e,r,u);return fe.set(i,c),c}({apiKey:"AIzaSyB2yruO9YCPIbObD9tczQJOebSsnoGoupg",authDomain:"cart-ffbd4.firebaseapp.com",projectId:"cart-ffbd4",storageBucket:"cart-ffbd4.appspot.com",messagingSenderId:"376318987939",appId:"1:376318987939:web:5e10c1737e817c15793916"}),dd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke();return ve(e,"firestore").getImmediate()}(hd),pd=function(e){u(n,e);var t=d(n);function n(){var e;return r(this,n),(e=t.call(this)).handleIncreaseQuantity=function(t){var n=e.state.products,r=n.indexOf(t);ld(mh(dd,"products",n[r].id),{qty:n[r].qty+1}).then((function(){console.log("Updated Successfully")})).catch((function(e){console.log("error in updating product",e)}))},e.handleDecreaseQuantity=function(t){var n=e.state.products,r=n.indexOf(t);0!=n[r].qty&&ld(mh(dd,"products",n[r].id),{qty:n[r].qty-1}).then((function(){console.log("Updated Successfully")})).catch((function(e){console.log("error in updating product",e)}))},e.handleDeleteProduct=function(t){e.state.products;(function(e){return cd(fh(e.firestore,wh),[new Iu(e._key,du.none())])})(mh(dd,"products",t)).then((function(){console.log("Removed Successfully")})).catch((function(e){console.log("error in removing product",e)}))},e.getCartCount=function(){var t=e.state.products,n=0;return t.forEach((function(e){n+=e.qty})),n},e.getCartTotal=function(){var t=e.state.products,n=0;return t.forEach((function(e){n+=e.price*e.qty})),n},e.addProduct=function(){(function(e,t){var n=fh(e.firestore,wh),r=mh(e),i=ud(e.converter,t);return cd(n,[Rh(Lh(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,du.exists(!1))]).then((function(){return r}))})(gh(dd,"products"),{img:"https://images.unsplash.com/photo-1511886929837-354d827aae26?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTJ8fGZvb3RiYWxsfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=500&q=60",qty:5,price:999,title:"Football"}).then((function(e){console.log(e)}))},e.state={products:[],loading:!0},e}return a(n,[{key:"componentDidMount",value:function(){var e=this,t=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){e=a[i]._apply(e)}return e}(gh(dd,"products"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Xh("orderBy",e);return new id(n,t)}("price","asc"));!function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=q(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||bh(n[s])||(u=n[s],s++);var l,c,f,h={includeMetadataChanges:u.includeMetadataChanges};if(bh(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof ph)c=fh(e.firestore,wh),f=Mo(e._key.path),l={next:function(t){n[s]&&n[s](fd(c,e,t))},error:n[s+1],complete:n[s+2]};else{var p=fh(e,vh);c=fh(p.firestore,wh),f=p._query;var v=new sd(c);l={next:function(e){n[s]&&n[s](new ed(c,v,p,e))},error:n[s+1],complete:n[s+2]},nd(e._query)}(function(e,t,n,r){var i=new Wf(r),a=new uf(t,i,n);e.asyncQueue.enqueueAndForget(x(I().mark((function t(){return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=tf,t.next=3,ih(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))})(Eh(c),f,h,l)}(t,(function(t){console.log(t),t.docs.map((function(e){console.log(e.data())}));var n=t.docs.map((function(e){var t=e.data();return t.id=e.id,t}));e.setState({products:n,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.products,n=e.loading;return(0,p.jsxs)("div",{className:"App",children:[(0,p.jsx)(k,{count:this.getCartCount()}),(0,p.jsx)("button",{onClick:this.addProduct,style:{padding:14,fontSize:15},children:"Add a product"}),(0,p.jsx)(g,{products:t,onIncreaseQuantity:this.handleIncreaseQuantity,onDecreaseQuantity:this.handleDecreaseQuantity,onDeleteProduct:this.handleDeleteProduct}),n&&(0,p.jsx)("h1",{children:"Loading Products ..."}),(0,p.jsxs)("div",{style:{fontSize:20,padding:10},children:["TOTAL: ",this.getCartTotal()," "]})]})}}]),n}(e.Component),vd=pd;t.render((0,p.jsx)(e.StrictMode,{children:(0,p.jsx)(vd,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.76e83a5e.js.map